/*! For license information please see 835.fead6682.chunk.js.LICENSE.txt */
(self.webpackChunkreact_evm_modal_example=self.webpackChunkreact_evm_modal_example||[]).push([[835],{51796:(e,t,r)=>{"use strict";t._O=t.Jq=t.KB=t.u8=t.cv=void 0,t.Ik=t.A9=t.n_=t.gM=void 0;const n=r(38173);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}class a{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function s(e,t){return t.property?e+"["+t.property+"]":e}class u extends a{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends u{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class l extends u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;if(!(e instanceof a))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof f||this.layout instanceof h}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.decode(e,t+this.offset)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.layout.encode(e,t,r+this.offset)}}class f extends a{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readUIntLE(t,this.span)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeUIntLE(e,r,this.span),this.span}}class h extends a{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readUIntBE(t,this.span)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeUIntBE(e,r,this.span),this.span}}class d extends a{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readIntLE(t,this.span)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeIntLE(e,r,this.span),this.span}}class y extends a{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readIntBE(t,this.span)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeIntBE(e,r,this.span),this.span}}const p=Math.pow(2,32);function g(e){const t=Math.floor(e/p);return{hi32:t,lo32:e-t*p}}function v(e,t){return e*p+t}class m extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=o(e),n=r.readUInt32LE(t);return v(r.readUInt32LE(t+4),n)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class b extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=o(e);return v(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g(e),i=o(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class w extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=o(e),n=r.readUInt32LE(t);return v(r.readInt32LE(t+4),n)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class k extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=o(e);return v(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g(e),i=o(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class S extends a{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readFloatLE(t)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeFloatLE(e,r),4}}class A extends a{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readFloatBE(t)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeFloatBE(e,r),4}}class x extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readDoubleLE(t)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeDoubleLE(e,r),8}}class I extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readDoubleBE(t)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeDoubleBE(e,r),8}}class P extends a{constructor(e,t,r){if(!(e instanceof a))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof u)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[];let n=0,i=this.count;for(i instanceof u&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.elementLayout,i=e.reduce(((e,i)=>e+n.encode(i,t,r+e)),0);return this.count instanceof u&&this.count.encode(e.length,t,r),i}}class E extends a{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof a),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===r&&(r=t,t=void 0);for(const o of e)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=r;let i=0,o=0;for(const a of this.fields){let n=a.span;if(o=0<n?n:0,void 0!==a.property){const i=e[a.property];void 0!==i&&(o=a.encode(i,t,r),0>n&&(n=a.getSpan(t,r)))}i=r,r+=n}return i+o-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class B{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}class _ extends B{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class O extends a{constructor(e,t,r){let n;if(e instanceof f||e instanceof h)n=new _(new l(e));else if(e instanceof u&&e.isCount())n=new _(e);else{if(!(e instanceof B))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=e}if(void 0===t&&(t=null),!(null===t||t instanceof a))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof f||e instanceof h)&&(i+=n.layout.span)),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof f||e instanceof h,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator,i=n.decode(e,r),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let a=0;this.usesPrefixDiscriminator&&(a=n.layout.span),t=this.makeDestinationObject(),t[n.property]=i,t[o.property]=o.decode(e,r+a)}else t=o.decode(e,r);return t}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new T(this,e,t,r);return this.registry[e]=n,n}getVariant(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=e instanceof Uint8Array?this.discriminator.decode(e,r):e,this.registry[t]}}class T extends a{constructor(e,t,r,n){if(!(e instanceof O))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof a))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function U(e){return 0>e&&(e+=4294967296),e}class K extends a{constructor(e,t,r){if(!(e instanceof f||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=U(e),this},this._packedGetValue=function(){return n}}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);for(const i of this.fields)void 0!==i.property&&(r[i.property]=i.decode(e));return r}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.word.decode(t,r);this._packedSetValue(n);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new z(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new L(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class z{constructor(e,t,r){if(!(e instanceof K))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=U(this.valueMask<<this.start),this.property=r}decode(e,t){return U(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!==typeof e||!Number.isInteger(e)||e!==U(e&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=U(e<<this.start);this.container._packedSetValue(U(t&~this.wordMask)|r)}}class L extends z{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"===typeof e&&(e=+e),super.encode(e)}}class W extends a{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.span;return 0>r&&(r=this.length.decode(e,t)),o(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof u&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const i=o(e);return o(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,t,r),n}}class M extends a{constructor(e){super(-1,e)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.getSpan(e,t);return o(e).slice(t,t+r-1).toString("utf-8")}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=n.Buffer.from(e,"utf8"),a=i.length;if(r+a>t.length)throw new RangeError("encoding overruns Buffer");const s=o(t);return i.copy(s,r),s[r+a]=0,a+1}}class C extends a{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e),e.length-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+r).toString("utf-8")}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=n.Buffer.from(e,"utf8"),a=i.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(r+a>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(o(t),r),a}}class R extends a{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}t.cv=(e,t,r)=>new l(e,t,r),t.u8=e=>new f(1,e),t.KB=e=>new f(2,e),t.Jq=e=>new f(4,e),t._O=e=>new m(e),t.gM=e=>new w(e),t.n_=(e,t,r)=>new E(e,t,r),t.A9=(e,t,r)=>new P(e,t,r),t.Ik=(e,t)=>new W(e,t)},30196:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{RG:()=>Kr,nh:()=>Ve,GS:()=>xt});var i=r(88965);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(0,i.Z)(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=r(38173),u=r(40673),c=r(37714),l=r(71395),f=r(13133),h=r(97014);const d=BigInt(0),y=BigInt(1),p=BigInt(2),g=BigInt(8),v={zip215:!0};function m(e){const t=function(e){const t=(0,h.K)(e);return f.FF(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:n,prehash:i,hash:o,randomBytes:a,nByteLength:s,h:u}=t,c=p<<BigInt(8*s)-y,m=r.create,b=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(n){return{isValid:!1,value:d}}}),w=t.adjustScalarBytes||(e=>e),k=t.domain||((e,t,r)=>{if(t.length||r)throw new Error("Contexts/pre-hash are not supported");return e}),S=e=>"bigint"===typeof e&&d<e,A=(e,t)=>S(e)&&S(t)&&e<t,x=e=>e===d||A(e,c);function I(e,t){if(A(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function P(e){return e===d?e:I(e,n)}const E=new Map;function B(e){if(!(e instanceof _))throw new Error("ExtendedPoint expected")}class _{constructor(e,t,r,n){if(this.ex=e,this.ey=t,this.ez=r,this.et=n,!x(e))throw new Error("x required");if(!x(t))throw new Error("y required");if(!x(r))throw new Error("z required");if(!x(n))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof _)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};if(!x(t)||!x(r))throw new Error("invalid affine point");return new _(t,r,y,m(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(_.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,E.delete(this)}assertValidity(){const{a:e,d:r}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:n,ey:i,ez:o,et:a}=this,s=m(n*n),u=m(i*i),c=m(o*o),l=m(c*c),f=m(s*e);if(m(c*m(f+u))!==m(l+m(r*m(s*u))))throw new Error("bad point: equation left != right (1)");if(m(n*i)!==m(o*a))throw new Error("bad point: equation left != right (2)")}equals(e){B(e);const{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:a}=e,s=m(t*a),u=m(i*n),c=m(r*a),l=m(o*n);return s===u&&c===l}is0(){return this.equals(_.ZERO)}negate(){return new _(m(-this.ex),this.ey,this.ez,m(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:i}=this,o=m(r*r),a=m(n*n),s=m(p*m(i*i)),u=m(e*o),c=r+n,l=m(m(c*c)-o-a),f=u+a,h=f-s,d=u-a,y=m(l*h),g=m(f*d),v=m(l*d),b=m(h*f);return new _(y,g,b,v)}add(e){B(e);const{a:r,d:n}=t,{ex:i,ey:o,ez:a,et:s}=this,{ex:u,ey:c,ez:l,et:f}=e;if(r===BigInt(-1)){const e=m((o-i)*(c+u)),t=m((o+i)*(c-u)),r=m(t-e);if(r===d)return this.double();const n=m(a*p*f),h=m(s*p*l),y=h+n,g=t+e,v=h-n,b=m(y*r),w=m(g*v),k=m(y*v),S=m(r*g);return new _(b,w,S,k)}const h=m(i*u),y=m(o*c),g=m(s*n*f),v=m(a*l),b=m((i+o)*(u+c)-h-y),w=v-g,k=v+g,S=m(y-r*h),A=m(b*w),x=m(k*S),I=m(b*S),P=m(w*k);return new _(A,x,P,I)}subtract(e){return this.add(e.negate())}wNAF(e){return U.wNAFCached(this,E,e,_.normalizeZ)}multiply(e){const{p:t,f:r}=this.wNAF(I(e,n));return _.normalizeZ([t,r])[0]}multiplyUnsafe(e){let t=P(e);return t===d?T:this.equals(T)||t===y?this:this.equals(O)?this.wNAF(t).p:U.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return U.unsafeLadder(this,n).is0()}toAffine(e){const{ex:t,ey:n,ez:i}=this,o=this.is0();null==e&&(e=o?g:r.inv(i));const a=m(t*e),s=m(n*e),u=m(i*e);if(o)return{x:d,y:y};if(u!==y)throw new Error("invZ was invalid");return{x:a,y:s}}clearCofactor(){const{h:e}=t;return e===y?this:this.multiplyUnsafe(e)}static fromHex(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:o}=t,a=r.BYTES,s=(e=(0,f.ql)("pointHex",e,a)).slice(),u=e[a-1];s[a-1]=-129&u;const l=f.ty(s);l===d||I(l,n?c:r.ORDER);const h=m(l*l),p=m(h-y),g=m(i*h-o);let{isValid:v,value:w}=b(p,g);if(!v)throw new Error("Point.fromHex: invalid y coordinate");const k=(w&y)===y,S=0!==(128&u);if(!n&&w===d&&S)throw new Error("Point.fromHex: x=0 and x_0=1");return S!==k&&(w=m(-w)),_.fromAffine({x:w,y:l})}static fromPrivateKey(e){return L(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=f.S5(t,r.BYTES);return n[n.length-1]|=e&y?128:0,n}toHex(){return f.ci(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,y,m(t.Gx*t.Gy)),_.ZERO=new _(d,y,y,d);const{BASE:O,ZERO:T}=_,U=(0,h.M)(_,8*s);function K(e){return(0,l.wQ)(e,n)}function z(e){return K(f.ty(e))}function L(e){const t=s;e=(0,f.ql)("private key",e,t);const r=(0,f.ql)("hashed private key",o(e),2*t),n=w(r.slice(0,t)),i=r.slice(t,2*t),a=z(n),u=O.multiply(a),c=u.toRawBytes();return{head:n,prefix:i,scalar:a,point:u,pointBytes:c}}function W(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=f.eV(...r);return z(o(k(a,(0,f.ql)("context",e),!!i)))}const M=v;O._setWindowSize(8);const C={getExtendedPublicKey:L,randomPrivateKey:()=>a(r.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};return{CURVE:t,getPublicKey:function(e){return L(e).pointBytes},sign:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=(0,f.ql)("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:u}=L(t),c=W(n.context,o,e),l=O.multiply(c).toRawBytes(),h=K(c+W(n.context,l,u,e)*a);P(h);const d=f.eV(l,f.S5(h,r.BYTES));return(0,f.ql)("result",d,2*s)},verify:function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M;const{context:a,zip215:s}=o,u=r.BYTES;e=(0,f.ql)("signature",e,2*u),t=(0,f.ql)("message",t),i&&(t=i(t));const c=f.ty(e.slice(u,2*u));let l,h,d;try{l=_.fromHex(n,s),h=_.fromHex(e.slice(0,u),s),d=O.multiplyUnsafe(c)}catch(p){return!1}if(!s&&l.isSmallOrder())return!1;const y=W(a,h.toRawBytes(),l.toRawBytes(),t);return h.add(l.multiplyUnsafe(y)).subtract(d).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:C}}BigInt(0),BigInt(1);r(17147);const b=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),w=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),k=(BigInt(0),BigInt(1)),S=BigInt(2),A=BigInt(5),x=BigInt(10),I=BigInt(20),P=BigInt(40),E=BigInt(80);function B(e){const t=b,r=e*e%t*e%t,n=(0,l.oA)(r,S,t)*r%t,i=(0,l.oA)(n,k,t)*e%t,o=(0,l.oA)(i,A,t)*i%t,a=(0,l.oA)(o,x,t)*o%t,s=(0,l.oA)(a,I,t)*a%t,u=(0,l.oA)(s,P,t)*s%t,c=(0,l.oA)(u,E,t)*u%t,f=(0,l.oA)(c,E,t)*u%t,h=(0,l.oA)(f,x,t)*o%t;return{pow_p_5_8:(0,l.oA)(h,S,t)*e%t,b2:r}}function _(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function O(e,t){const r=b,n=(0,l.wQ)(t*t*t,r),i=B(e*(0,l.wQ)(n*n*t,r)).pow_p_5_8;let o=(0,l.wQ)(e*n*i,r);const a=(0,l.wQ)(t*o*o,r),s=o,u=(0,l.wQ)(o*w,r),c=a===e,f=a===(0,l.wQ)(-e,r),h=a===(0,l.wQ)(-e*w,r);return c&&(o=s),(f||h)&&(o=u),(0,l.Tu)(o,r)&&(o=(0,l.wQ)(-o,r)),{isValid:c||f,value:o}}const T=(0,l.gN)(b,void 0,!0),U={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:T,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:u.o,randomBytes:c.O6,adjustScalarBytes:_,uvRatio:O},K=m(U);function z(e,t,r){if(t.length>255)throw new Error("Context is too big");return(0,c.eV)((0,c.iY)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}m({...U,domain:z}),m({...U,domain:z,prehash:u.o});const L=(T.ORDER+BigInt(3))/BigInt(8);T.pow(S,L),T.sqrt(T.neg(T.ONE)),T.ORDER,BigInt(5),BigInt(8),BigInt(486662);(0,l.DV)(T,T.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function W(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){W(o,n,i,a,s,"next",e)}function s(e){W(o,n,i,a,s,"throw",e)}a(void 0)}))}}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}var q=r(7209);function j(e,t){if(t&&("object"===(0,q.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var J=r(88047),D=r.n(J),F=r(9092),V=r.n(F),Y=r(42933),H=r.n(Y),Z=r(46136),$=r(88343),G=r(51796);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t){if(e){if("string"===typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||X(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=r(10030),re=r(20240);function ne(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}class ie extends TypeError{constructor(e,t){let r;const{message:n,...i}=e,{path:o}=e;super(0===o.length?n:"At path: "+o.join(".")+" -- "+n),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[e,...t()]}}}function oe(e){return"object"===typeof e&&null!=e}function ae(e){return"string"===typeof e?JSON.stringify(e):""+e}function se(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"===typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:a}=r,{refinement:s,message:u="Expected a value of type `"+a+"`"+(s?" with refinement `"+s+"`":"")+", but received: `"+ae(n)+"`"}=e;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*ue(e,t,r,n){var i;oe(i=e)&&"function"===typeof i[Symbol.iterator]||(e=[e]);for(const o of e){const e=se(o,t,r,n);e&&(yield e)}}function ce(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){const{path:n=[],branch:i=[e],coerce:o=!1,mask:a=!1}=r,s={path:n,branch:i};if(o&&(e=t.coercer(e,s),a&&"type"!==t.type&&oe(t.schema)&&oe(e)&&!Array.isArray(e)))for(const r in e)void 0===t.schema[r]&&delete e[r];let u=!0;for(const r of t.validator(e,s))u=!1,yield[r,void 0];for(let[r,c,l]of t.entries(e,s)){const t=ce(c,l,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,c],coerce:o,mask:a});for(const n of t)n[0]?(u=!1,yield[n[0],void 0]):o&&(c=n[1],void 0===r?e=c:e instanceof Map?e.set(r,c):e instanceof Set?e.add(c):oe(e)&&(e[r]=c))}if(u)for(const r of t.refiner(e,s))u=!1,yield[r,void 0];u&&(yield[void 0,e])}()}class le{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:o=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,this.validator=n?(e,t)=>ue(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>ue(i(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const r=de(e,t);if(r[0])throw r[0]}(e,this)}create(e){return fe(e,this)}is(e){return he(e,this)}mask(e){return function(e,t){const r=de(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(e,this)}validate(e){return de(e,this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}function fe(e,t){const r=de(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function he(e,t){return!de(e,t)[0]}function de(e,t){const r=ce(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),n=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(r);if(n[0]){return[new ie(n[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,n[1]]}function ye(e,t){return new le({type:e,schema:null,validator:t})}function pe(e){return new le({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+ae(e)})}function ge(){return ye("boolean",(e=>"boolean"===typeof e))}function ve(e){return ye("instance",(t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+ae(t)))}function me(e){const t=ae(e),r=typeof e;return new le({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||"Expected the literal `"+t+"`, but received: "+ae(r)})}function be(){return ye("never",(()=>!1))}function we(e){return new le({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function ke(){return ye("number",(e=>"number"===typeof e&&!isNaN(e)||"Expected a number, but received: "+ae(e)))}function Se(e){return new le({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function Ae(e,t){return new le({type:"record",schema:null,*entries(r){if(oe(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>oe(e)||"Expected an object, but received: "+ae(e)})}function xe(){return ye("string",(e=>"string"===typeof e||"Expected a string, but received: "+ae(e)))}function Ie(e){const t=be();return new le({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||"Expected an array, but received: "+ae(e)})}function Pe(e){const t=Object.keys(e);return new le({type:"type",schema:e,*entries(r){if(oe(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>oe(e)||"Expected an object, but received: "+ae(e)})}function Ee(e){const t=e.map((e=>e.type)).join(" | ");return new le({type:"union",schema:null,validator(r,n){const i=[];for(const t of e){const[...e]=ce(r,t,n),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+ae(r),...i]}})}function Be(){return ye("unknown",(()=>!0))}function _e(e,t,r){return new le({...e,coercer:(n,i)=>he(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}r(89035);function Oe(e,t,r){return Oe=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&C(i,r.prototype),i},Oe.apply(null,arguments)}function Te(e){var t="function"===typeof Map?new Map:void 0;return Te=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Oe(e,arguments,N(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,e)},Te(e)}r(19999),r(97684);var Ue=r(68088),Ke=r(71419),ze=(K.utils.randomPrivateKey,function(){var e=K.utils.randomPrivateKey(),t=Le(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}}),Le=K.getPublicKey;function We(e){try{return K.ExtendedPoint.fromHex(e),!0}catch(t){return!1}}var Me=function(e,t){return K.sign(e,t.slice(0,32))},Ce=K.verify,Re=function(e){return s.Buffer.isBuffer(e)?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e)};var qe,je=function(){function e(t){n(this,e),Object.assign(this,t)}return a(e,[{key:"encode",value:function(){return s.Buffer.from((0,$.serialize)(Ne,this))}}],[{key:"decode",value:function(e){return(0,$.deserialize)(Ne,this,e)}},{key:"decodeUnchecked",value:function(e){return(0,$.deserializeUnchecked)(Ne,this,e)}}]),e}(),Ne=new Map;function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=N(e);if(t){var i=N(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return j(this,r)}}var De=32;var Fe=1;qe=Symbol.toStringTag;var Ve=function(e){R(r,e);var t=Je(r);function r(e){var i;if(n(this,r),(i=t.call(this,{}))._bn=void 0,function(e){return void 0!==e._bn}(e))i._bn=e._bn;else{if("string"===typeof e){var o=H().decode(e);if(o.length!=De)throw new Error("Invalid public key input");i._bn=new(V())(o)}else i._bn=new(V())(e);if(i._bn.byteLength()>De)throw new Error("Invalid public key input")}return i}return a(r,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return H().encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){var e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(s.Buffer);if(e.length===De)return e;var t=s.Buffer.alloc(32);return e.copy(t,32-e.length),t}},{key:qe,get:function(){return"PublicKey(".concat(this.toString(),")")}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"unique",value:function(){var e=new r(Fe);return Fe+=1,new r(e.toBuffer())}},{key:"createWithSeed",value:function(){var e=M(D().mark((function e(t,n,i){var o,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.Buffer.concat([t.toBuffer(),s.Buffer.from(n),i.toBuffer()]),a=(0,Z.J)(o),e.abrupt("return",new r(a));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"createProgramAddressSync",value:function(e,t){var n=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=s.Buffer.concat([n,Re(e)])})),n=s.Buffer.concat([n,t.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);var i=(0,Z.J)(n);if(We(i))throw new Error("Invalid seeds, address must fall off the curve");return new r(i)}},{key:"createProgramAddress",value:function(){var e=M(D().mark((function e(t,r){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"findProgramAddressSync",value:function(e,t){for(var r,n=255;0!=n;){try{var i=e.concat(s.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:function(){var e=M(D().mark((function e(t,r){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"isOnCurve",value:function(e){return We(new r(e).toBytes())}}]),r}(je);Ve.default=new Ve("11111111111111111111111111111111"),Ne.set(Ve,{kind:"struct",fields:[["_bn","u256"]]});new Ve("BPFLoader1111111111111111111111111111111111");var Ye=1232;function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=N(e);if(t){var i=N(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return j(this,r)}}var Ze=function(e){R(r,e);var t=He(r);function r(e){var i;return n(this,r),(i=t.call(this,"Signature ".concat(e," has expired: block height exceeded."))).signature=void 0,i.signature=e,i}return a(r)}(Te(Error));Object.defineProperty(Ze.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var $e=function(e){R(r,e);var t=He(r);function r(e,i){var o;return n(this,r),(o=t.call(this,"Transaction was not confirmed in ".concat(i.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools."))).signature=void 0,o.signature=e,o}return a(r)}(Te(Error));Object.defineProperty($e.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Ge=function(e){R(r,e);var t=He(r);function r(e){var i;return n(this,r),(i=t.call(this,"Signature ".concat(e," has expired: the nonce is no longer valid."))).signature=void 0,i.signature=e,i}return a(r)}(Te(Error));function Qe(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xe(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(Ge.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var et=function(){function e(t,r){n(this,e),this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}return a(e,[{key:"keySegments",value:function(){var e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}},{key:"get",value:function(e){var t,r=Qe(this.keySegments());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e<n.length)return n[e];e-=n.length}}catch(i){r.e(i)}finally{r.f()}}},{key:"length",get:function(){return this.keySegments().flat().length}},{key:"compileInstructions",value:function(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");var t=new Map;this.keySegments().flat().forEach((function(e,r){t.set(e.toBase58(),r)}));var r=function(e){var r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((function(e){return{programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((function(e){return r(e.pubkey)})),data:e.data}}))}}]),e}(),tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return G.Ik(32,e)},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature";return G.Ik(64,e)},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=G.n_([G.Jq("length"),G.Jq("lengthPadding"),G.Ik(G.cv(G.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=function(e,t){return r(e,t).chars.toString()},i.encode=function(e,t,r){var i={chars:s.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=function(e){return G.Jq().span+G.Jq().span+s.Buffer.from(e,"utf8").length},i};function it(e,t){var r=function e(r){if(r.span>=0)return r.span;if("function"===typeof r.alloc)return r.alloc(t[r.property]);if("count"in r&&"elementLayout"in r){var n=t[r.property];if(Array.isArray(n))return n.length*e(r.elementLayout)}else if("fields"in r)return it({layout:r},t[r.property]);return 0},n=0;return e.layout.fields.forEach((function(e){n+=r(e)})),n}function ot(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function at(e,t){for(var r=t;;){var n=127&r;if(0==(r>>=7)){e.push(n);break}n|=128,e.push(n)}}function st(e,t){if(!e)throw new Error(t||"Assertion failed")}function ut(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ct(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lt=function(){function e(t,r){n(this,e),this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}return a(e,[{key:"getMessageComponents",value:function(){var e=ne(this.keyMetaMap.entries());st(e.length<=256,"Max static account keys length exceeded");var t=e.filter((function(e){var t=ee(e,2)[1];return t.isSigner&&t.isWritable})),r=e.filter((function(e){var t=ee(e,2)[1];return t.isSigner&&!t.isWritable})),n=e.filter((function(e){var t=ee(e,2)[1];return!t.isSigner&&t.isWritable})),i=e.filter((function(e){var t=ee(e,2)[1];return!t.isSigner&&!t.isWritable})),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};return st(t.length>0,"Expected at least one writable signer key"),st(ee(t[0],1)[0]===this.payer.toBase58(),"Expected first writable signer key to be the fee payer"),[o,[].concat(ne(t.map((function(e){var t=ee(e,1)[0];return new Ve(t)}))),ne(r.map((function(e){var t=ee(e,1)[0];return new Ve(t)}))),ne(n.map((function(e){var t=ee(e,1)[0];return new Ve(t)}))),ne(i.map((function(e){var t=ee(e,1)[0];return new Ve(t)}))))]}},{key:"extractTableLookup",value:function(e){var t=ee(this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&e.isWritable})),2),r=t[0],n=t[1],i=ee(this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&!e.isWritable})),2),o=i[0],a=i[1];if(0!==r.length||0!==o.length)return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:a}]}},{key:"drainKeysFoundInLookupTable",value:function(e,t){var r,n=this,i=new Array,o=new Array,a=ut(this.keyMetaMap.entries());try{var s=function(){var a=ee(r.value,2),s=a[0],u=a[1];if(t(u)){var c=new Ve(s),l=e.findIndex((function(e){return e.equals(c)}));l>=0&&(st(l<256,"Max lookup table index exceeded"),i.push(l),o.push(c),n.keyMetaMap.delete(s))}};for(a.s();!(r=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}return[i,o]}}],[{key:"compile",value:function(t,r){var n=new Map,i=function(e){var t=e.toBase58(),r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},o=i(r);o.isSigner=!0,o.isWritable=!0;var a,s=ut(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;i(u.programId).isInvoked=!0;var c,l=ut(u.keys);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=i(f.pubkey);h.isSigner||(h.isSigner=f.isSigner),h.isWritable||(h.isWritable=f.isWritable)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}return new e(r,n)}}]),e}(),ft=function(){function e(t){var r=this;n(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new Ve(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])}))}return a(e,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map((function(e){return{programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:H().decode(e.data)}}))}},{key:"addressTableLookups",get:function(){return[]}},{key:"getAccountKeys",value:function(){return new et(this.staticAccountKeys)}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){var t=this.header.numRequiredSignatures;return e>=this.header.numRequiredSignatures?e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return ne(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,r){return!e.isProgramId(r)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];at(t,e);var r=this.instructions.map((function(e){var t=e.accounts,r=e.programIdIndex,n=Array.from(H().decode(e.data)),i=[];at(i,t.length);var o=[];return at(o,n.length),{programIdIndex:r,keyIndicesCount:s.Buffer.from(i),keyIndices:t,dataLength:s.Buffer.from(o),data:n}})),n=[];at(n,r.length);var i=s.Buffer.alloc(Ye);s.Buffer.from(n).copy(i);var o=n.length;r.forEach((function(e){var t=G.n_([G.u8("programIdIndex"),G.Ik(e.keyIndicesCount.length,"keyIndicesCount"),G.A9(G.u8("keyIndex"),e.keyIndices.length,"keyIndices"),G.Ik(e.dataLength.length,"dataLength"),G.A9(G.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);var a=G.n_([G.Ik(1,"numRequiredSignatures"),G.Ik(1,"numReadonlySignedAccounts"),G.Ik(1,"numReadonlyUnsignedAccounts"),G.Ik(t.length,"keyCount"),G.A9(tt("key"),e,"keys"),tt("recentBlockhash")]),u={numRequiredSignatures:s.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.Buffer.from(t),keys:this.accountKeys.map((function(e){return Re(e.toBytes())})),recentBlockhash:H().decode(this.recentBlockhash)},c=s.Buffer.alloc(2048),l=a.encode(u,c);return i.copy(c,l),c.slice(0,l+i.length)}}],[{key:"compile",value:function(t){var r=ee(lt.compile(t.instructions,t.payerKey).getMessageComponents(),2),n=r[0],i=r[1],o=new et(i).compileInstructions(t.instructions).map((function(e){return{programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:H().encode(e.data)}}));return new e({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:o})}},{key:"from",value:function(t){var r=ne(t),n=r.shift();if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var i=r.shift(),o=r.shift(),a=ot(r),u=[],c=0;c<a;c++){var l=r.slice(0,De);r=r.slice(De),u.push(new Ve(s.Buffer.from(l)))}for(var f=r.slice(0,De),h=ot(r=r.slice(De)),d=[],y=0;y<h;y++){var p=r.shift(),g=ot(r),v=r.slice(0,g),m=ot(r=r.slice(g)),b=r.slice(0,m),w=H().encode(s.Buffer.from(b));r=r.slice(m),d.push({programIdIndex:p,accounts:v,data:w})}return new e({header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:H().encode(s.Buffer.from(f)),accountKeys:u,instructions:d})}}]),e}();function ht(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dt(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yt=function(){function e(t){n(this,e),this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}return a(e,[{key:"version",get:function(){return 0}},{key:"numAccountKeysFromLookups",get:function(){var e,t=0,r=ht(this.addressTableLookups);try{for(r.s();!(e=r.n()).done;){var n=e.value;t+=n.readonlyIndexes.length+n.writableIndexes.length}}catch(i){r.e(i)}finally{r.f()}return t}},{key:"getAccountKeys",value:function(e){var t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new et(this.staticAccountKeys,t)}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){var t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;return e>=r?e-r<this.addressTableLookups.reduce((function(e,t){return e+t.writableIndexes.length}),0):e>=this.header.numRequiredSignatures?e-t<r-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}},{key:"resolveAddressTableLookups",value:function(e){var t,r={writable:[],readonly:[]},n=ht(this.addressTableLookups);try{var i=function(){var n=t.value,i=e.find((function(e){return e.key.equals(n.accountKey)}));if(!i)throw new Error("Failed to find address lookup table account for table key ".concat(n.accountKey.toBase58()));var o,a=ht(n.writableIndexes);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!(s<i.state.addresses.length))throw new Error("Failed to find address for index ".concat(s," in address lookup table ").concat(n.accountKey.toBase58()));r.writable.push(i.state.addresses[s])}}catch(f){a.e(f)}finally{a.f()}var u,c=ht(n.readonlyIndexes);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(!(l<i.state.addresses.length))throw new Error("Failed to find address for index ".concat(l," in address lookup table ").concat(n.accountKey.toBase58()));r.readonly.push(i.state.addresses[l])}}catch(f){c.e(f)}finally{c.f()}};for(n.s();!(t=n.n()).done;)i()}catch(o){n.e(o)}finally{n.f()}return r}},{key:"serialize",value:function(){var e=Array();at(e,this.staticAccountKeys.length);var t=this.serializeInstructions(),r=Array();at(r,this.compiledInstructions.length);var n=this.serializeAddressTableLookups(),i=Array();at(i,this.addressTableLookups.length);var o=G.n_([G.u8("prefix"),G.n_([G.u8("numRequiredSignatures"),G.u8("numReadonlySignedAccounts"),G.u8("numReadonlyUnsignedAccounts")],"header"),G.Ik(e.length,"staticAccountKeysLength"),G.A9(tt(),this.staticAccountKeys.length,"staticAccountKeys"),tt("recentBlockhash"),G.Ik(r.length,"instructionsLength"),G.Ik(t.length,"serializedInstructions"),G.Ik(i.length,"addressTableLookupsLength"),G.Ik(n.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ye),s=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((function(e){return e.toBytes()})),recentBlockhash:H().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},a);return a.slice(0,s)}},{key:"serializeInstructions",value:function(){var e,t=0,r=new Uint8Array(Ye),n=ht(this.compiledInstructions);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=Array();at(o,i.accountKeyIndexes.length);var a=Array();at(a,i.data.length),t+=G.n_([G.u8("programIdIndex"),G.Ik(o.length,"encodedAccountKeyIndexesLength"),G.A9(G.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),G.Ik(a.length,"encodedDataLength"),G.Ik(i.data.length,"data")]).encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:i.data},r,t)}}catch(s){n.e(s)}finally{n.f()}return r.slice(0,t)}},{key:"serializeAddressTableLookups",value:function(){var e,t=0,r=new Uint8Array(Ye),n=ht(this.addressTableLookups);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=Array();at(o,i.writableIndexes.length);var a=Array();at(a,i.readonlyIndexes.length),t+=G.n_([tt("accountKey"),G.Ik(o.length,"encodedWritableIndexesLength"),G.A9(G.u8(),i.writableIndexes.length,"writableIndexes"),G.Ik(a.length,"encodedReadonlyIndexesLength"),G.A9(G.u8(),i.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:i.readonlyIndexes},r,t)}}catch(s){n.e(s)}finally{n.f()}return r.slice(0,t)}}],[{key:"compile",value:function(t){var r,n=lt.compile(t.instructions,t.payerKey),i=new Array,o={writable:new Array,readonly:new Array},a=ht(t.addressLookupTableAccounts||[]);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=n.extractTableLookup(s);if(void 0!==u){var c,l,f=ee(u,2),h=f[0],d=f[1],y=d.writable,p=d.readonly;i.push(h),(c=o.writable).push.apply(c,ne(y)),(l=o.readonly).push.apply(l,ne(p))}}}catch(w){a.e(w)}finally{a.f()}var g=ee(n.getMessageComponents(),2),v=g[0],m=g[1],b=new et(m,o).compileInstructions(t.instructions);return new e({header:v,staticAccountKeys:m,recentBlockhash:t.recentBlockhash,compiledInstructions:b,addressTableLookups:i})}},{key:"deserialize",value:function(t){var r=ne(t),n=r.shift(),i=127&n;st(n!==i,"Expected versioned message but received legacy message");st(0===i,"Expected versioned message with version 0 but found version ".concat(i));for(var o={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],s=ot(r),u=0;u<s;u++)a.push(new Ve(r.splice(0,De)));for(var c=H().encode(r.splice(0,De)),l=ot(r),f=[],h=0;h<l;h++){var d=r.shift(),y=ot(r),p=r.splice(0,y),g=ot(r),v=new Uint8Array(r.splice(0,g));f.push({programIdIndex:d,accountKeyIndexes:p,data:v})}for(var m=ot(r),b=[],w=0;w<m;w++){var k=new Ve(r.splice(0,De)),S=ot(r),A=r.splice(0,S),x=ot(r),I=r.splice(0,x);b.push({accountKey:k,writableIndexes:A,readonlyIndexes:I})}return new e({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:f,addressTableLookups:b})}}]),e}(),pt={deserializeMessageVersion:function(e){var t=e[0],r=127&t;return r===t?"legacy":r},deserialize:function(e){var t=pt.deserializeMessageVersion(e);if("legacy"===t)return ft.from(e);if(0===t)return yt.deserialize(e);throw new Error("Transaction message version ".concat(t," deserialization is not supported"))}};function gt(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vt(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var bt=s.Buffer.alloc(64).fill(0),wt=function(){function e(t){n(this,e),this.keys=void 0,this.programId=void 0,this.data=s.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}return a(e,[{key:"toJSON",value:function(){return{keys:this.keys.map((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:ne(this.data)}}}]),e}(),kt=function(){function e(t){if(n(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){var r=t,i=r.minContextSlot,o=r.nonceInfo;this.minNonceContextSlot=i,this.nonceInfo=o}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){var a=t,s=a.blockhash,u=a.lastValidBlockHeight;this.recentBlockhash=s,this.lastValidBlockHeight=u}else{var c=t,l=c.recentBlockhash,f=c.nonceInfo;f&&(this.nonceInfo=f),this.recentBlockhash=l}}return a(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((function(e){return e.toJSON()})),signers:this.signatures.map((function(e){return e.publicKey.toJSON()}))}}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new wt(t))})),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat(ne(this.instructions)):this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(var n=0;n<t.length;n++)if(void 0===t[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var i=[],o=[];t.forEach((function(e){e.keys.forEach((function(e){o.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){(0,re.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))}));var t=e.programId.toString();i.includes(t)||i.push(t)})),i.forEach((function(e){o.push({pubkey:new Ve(e),isSigner:!1,isWritable:!1})}));var a=[];o.forEach((function(e){var t=e.pubkey.toString(),r=a.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?(a[r].isWritable=a[r].isWritable||e.isWritable,a[r].isSigner=a[r].isSigner||e.isSigner):a.push(e)})),a.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));var s=a.findIndex((function(e){return e.pubkey.equals(r)}));if(s>-1){var u=ee(a.splice(s,1),1)[0];u.isSigner=!0,u.isWritable=!0,a.unshift(u)}else a.unshift({pubkey:r,isSigner:!0,isWritable:!0});var c,l=gt(this.signatures);try{var f=function(){var e=c.value,t=a.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));a[t].isSigner||(a[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(l.s();!(c=l.n()).done;)f()}catch(b){l.e(b)}finally{l.f()}var h=0,d=0,y=0,p=[],g=[];a.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(p.push(t.toString()),h+=1,n||(d+=1)):(g.push(t.toString()),n||(y+=1))}));var v=p.concat(g),m=t.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:v.indexOf(r.toString()),accounts:e.keys.map((function(e){return v.indexOf(e.pubkey.toString())})),data:H().encode(t)}}));return m.forEach((function(e){st(e.programIdIndex>=0),e.accounts.forEach((function(e){return st(e>=0)}))})),new ft({header:{numRequiredSignatures:h,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:y},accountKeys:v,recentBlockhash:e,instructions:m})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length&&this.signatures.every((function(e,r){return t[r].equals(e.publicKey)})))return e;return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:function(){var e=M(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFeeForMessage(this.compileMessage());case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}this.signatures=i.map((function(e){return{signature:null,publicKey:e.publicKey}}));var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];i.forEach((function(e){var n=Me(r,e.secretKey);t._addSignature(e.publicKey,Re(n))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){st(64===t.length);var r=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=s.Buffer.from(t)}},{key:"verifySignatures",value:function(e){return this._verifySignatures(this.serializeMessage(),void 0===e||e)}},{key:"_verifySignatures",value:function(e,t){var r,n=gt(this.signatures);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=i.signature,a=i.publicKey;if(null===o){if(t)return!1}else if(!Ce(o,e,a.toBytes()))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];at(r,t.length);var n=r.length+64*t.length+e.length,i=s.Buffer.alloc(n);return st(t.length<256),s.Buffer.from(r).copy(i,0),t.forEach((function(e,t){var n=e.signature;null!==n&&(st(64===n.length,"signature has invalid length"),s.Buffer.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),st(i.length<=Ye,"Transaction too large: ".concat(i.length," > ").concat(Ye)),i}},{key:"keys",get:function(){return st(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return st(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return st(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=ne(t),n=ot(r),i=[],o=0;o<n;o++){var a=r.slice(0,64);r=r.slice(64),i.push(H().encode(s.Buffer.from(a)))}return e.populate(ft.from(r),i)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((function(e,r){var i={signature:e==H().encode(bt)?null:H().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((function(e){var r=e.accounts.map((function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new wt({keys:r,programId:t.accountKeys[e.programIdIndex],data:H().decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}]),e}();function St(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return At(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return At(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xt=function(){function e(t,r){if(n(this,e),this.signatures=void 0,this.message=void 0,void 0!==r)st(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{for(var i=[],o=0;o<t.header.numRequiredSignatures;o++)i.push(new Uint8Array(64));this.signatures=i}this.message=t}return a(e,[{key:"version",get:function(){return this.message.version}},{key:"serialize",value:function(){var e=this.message.serialize(),t=Array();at(t,this.signatures.length);var r=G.n_([G.Ik(t.length,"encodedSignaturesLength"),G.A9(rt(),this.signatures.length,"signatures"),G.Ik(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}},{key:"sign",value:function(e){var t,r=this,n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures),o=St(e);try{var a=function(){var e=t.value,o=i.findIndex((function(t){return t.equals(e.publicKey)}));st(o>=0,"Cannot sign with non signer key ".concat(e.publicKey.toBase58())),r.signatures[o]=Me(n,e.secretKey)};for(o.s();!(t=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}},{key:"addSignature",value:function(e,t){st(64===t.byteLength,"Signature must be 64 bytes long");var r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((function(t){return t.equals(e)}));st(r>=0,"Can not add signature; `".concat(e.toBase58(),"` is not required to sign this transaction")),this.signatures[r]=t}}],[{key:"deserialize",value:function(t){for(var r=ne(t),n=[],i=ot(r),o=0;o<i;o++)n.push(new Uint8Array(r.splice(0,64)));return new e(pt.deserialize(new Uint8Array(r)),n)}}]),e}(),It=new Ve("SysvarC1ock11111111111111111111111111111111"),Pt=(new Ve("SysvarEpochSchedu1e111111111111111111111111"),new Ve("Sysvar1nstructions1111111111111111111111111"),new Ve("SysvarRecentB1ockHashes11111111111111111111")),Et=new Ve("SysvarRent111111111111111111111111111111111"),Bt=(new Ve("SysvarRewards111111111111111111111111111111"),new Ve("SysvarS1otHashes111111111111111111111111111"),new Ve("SysvarS1otHistory11111111111111111111111111"),new Ve("SysvarStakeHistory1111111111111111111111111"));function _t(e,t,r,n){return Ot.apply(this,arguments)}function Ot(){return Ot=M(D().mark((function e(t,r,n,i){var o,a,s,u,c;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},e.next=3,t.sendTransaction(r,n,o);case 3:if(a=e.sent,null==r.recentBlockhash||null==r.lastValidBlockHeight){e.next=10;break}return e.next=7,t.confirmTransaction({abortSignal:null===i||void 0===i?void 0:i.abortSignal,signature:a,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment);case 7:s=e.sent.value,e.next=22;break;case 10:if(null==r.minNonceContextSlot||null==r.nonceInfo){e.next=18;break}return u=r.nonceInfo.nonceInstruction,c=u.keys[0].pubkey,e.next=15,t.confirmTransaction({abortSignal:null===i||void 0===i?void 0:i.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:r.nonceInfo.nonce,signature:a},i&&i.commitment);case 15:s=e.sent.value,e.next=22;break;case 18:return null!=(null===i||void 0===i?void 0:i.abortSignal)&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),e.next=21,t.confirmTransaction(a,i&&i.commitment);case 21:s=e.sent.value;case 22:if(!s.err){e.next=24;break}throw new Error("Transaction ".concat(a," failed (").concat(JSON.stringify(s),")"));case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e)}))),Ot.apply(this,arguments)}function Tt(e){return new Promise((function(t){return setTimeout(t,e)}))}function Ut(e,t){var r=e.layout.span>=0?e.layout.span:it(e,t),n=s.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}var Kt,zt=G._O("lamportsPerSignature"),Lt=G.n_([G.Jq("version"),G.Jq("state"),tt("authorizedPubkey"),tt("nonce"),G.n_([zt],"feeCalculator")]),Wt=Lt.span,Mt=(Kt=8,function(e){var t=(0,G.Ik)(Kt,e),r=function(e){return{decode:e.decode.bind(e),encode:e.encode.bind(e)}}(t),n=r.encode,i=r.decode,o=t;return o.decode=function(e,t){var r=i(e,t);return(0,te.oU)(s.Buffer.from(r))},o.encode=function(e,t,r){var i=(0,te.k$)(e,Kt);return n(i,t,r)},o}),Ct=Object.freeze({Create:{index:0,layout:G.n_([G.Jq("instruction"),G.gM("lamports"),G.gM("space"),tt("programId")])},Assign:{index:1,layout:G.n_([G.Jq("instruction"),tt("programId")])},Transfer:{index:2,layout:G.n_([G.Jq("instruction"),Mt("lamports")])},CreateWithSeed:{index:3,layout:G.n_([G.Jq("instruction"),tt("base"),nt("seed"),G.gM("lamports"),G.gM("space"),tt("programId")])},AdvanceNonceAccount:{index:4,layout:G.n_([G.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:G.n_([G.Jq("instruction"),G.gM("lamports")])},InitializeNonceAccount:{index:6,layout:G.n_([G.Jq("instruction"),tt("authorized")])},AuthorizeNonceAccount:{index:7,layout:G.n_([G.Jq("instruction"),tt("authorized")])},Allocate:{index:8,layout:G.n_([G.Jq("instruction"),G.gM("space")])},AllocateWithSeed:{index:9,layout:G.n_([G.Jq("instruction"),tt("base"),nt("seed"),G.gM("space"),tt("programId")])},AssignWithSeed:{index:10,layout:G.n_([G.Jq("instruction"),tt("base"),nt("seed"),tt("programId")])},TransferWithSeed:{index:11,layout:G.n_([G.Jq("instruction"),Mt("lamports"),nt("seed"),tt("programId")])},UpgradeNonceAccount:{index:12,layout:G.n_([G.Jq("instruction")])}}),Rt=function(){function e(){n(this,e)}return a(e,null,[{key:"createAccount",value:function(e){var t=Ut(Ct.Create,{lamports:e.lamports,space:e.space,programId:Re(e.programId.toBuffer())});return new wt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},{key:"transfer",value:function(e){var t,r;"basePubkey"in e?(t=Ut(Ct.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:Re(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=Ut(Ct.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]);return new wt({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;"basePubkey"in e?(t=Ut(Ct.AssignWithSeed,{base:Re(e.basePubkey.toBuffer()),seed:e.seed,programId:Re(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Ut(Ct.Assign,{programId:Re(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new wt({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=Ut(Ct.CreateWithSeed,{base:Re(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Re(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new wt({keys:r,programId:this.programId,data:t})}},{key:"createNonceAccount",value:function(t){var r=new kt;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Wt,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Wt,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=Ut(Ct.InitializeNonceAccount,{authorized:Re(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Pt,isSigner:!1,isWritable:!1},{pubkey:Et,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new wt(r)}},{key:"nonceAdvance",value:function(e){var t=Ut(Ct.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Pt,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new wt(r)}},{key:"nonceWithdraw",value:function(e){var t=Ut(Ct.WithdrawNonceAccount,{lamports:e.lamports});return new wt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Pt,isSigner:!1,isWritable:!1},{pubkey:Et,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"nonceAuthorize",value:function(e){var t=Ut(Ct.AuthorizeNonceAccount,{authorized:Re(e.newAuthorizedPubkey.toBuffer())});return new wt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"allocate",value:function(e){var t,r;"basePubkey"in e?(t=Ut(Ct.AllocateWithSeed,{base:Re(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Re(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Ut(Ct.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new wt({keys:r,programId:this.programId,data:t})}}]),e}();Rt.programId=new Ve("11111111111111111111111111111111");var qt=function(){function e(){n(this,e)}return a(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:function(){var t=M(D().mark((function t(r,n,i,o,a){var u,c,l,f,h,d,y,p,g,v,m,b,w,k,S,A,x,I,P;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(a.length);case 2:return u=t.sent,t.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(c=t.sent,l=null,null===c){t.next=16;break}if(!c.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:c.data.length!==a.length&&(l=l||new kt).add(Rt.allocate({accountPubkey:i.publicKey,space:a.length})),c.owner.equals(o)||(l=l||new kt).add(Rt.assign({accountPubkey:i.publicKey,programId:o})),c.lamports<u&&(l=l||new kt).add(Rt.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:u-c.lamports})),t.next=17;break;case 16:l=(new kt).add(Rt.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:u>0?u:1,space:a.length,programId:o}));case 17:if(null===l){t.next=20;break}return t.next=20,_t(r,l,[n,i],{commitment:"confirmed"});case 20:f=G.n_([G.Jq("instruction"),G.Jq("offset"),G.Jq("bytesLength"),G.Jq("bytesLengthPadding"),G.A9(G.u8("byte"),G.cv(G.Jq(),-8),"bytes")]),h=e.chunkSize,d=0,y=a,p=[];case 25:if(!(y.length>0)){t.next=39;break}if(g=y.slice(0,h),v=s.Buffer.alloc(h+16),f.encode({instruction:0,offset:d,bytes:g,bytesLength:0,bytesLengthPadding:0},v),m=(new kt).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:v}),p.push(_t(r,m,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return 4,t.next=35,Tt(250);case 35:d+=h,y=y.slice(h),t.next=25;break;case 39:return t.next=41,Promise.all(p);case 41:return b=G.n_([G.Jq("instruction")]),w=s.Buffer.alloc(b.span),b.encode({instruction:1},w),k=(new kt).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:Et,isSigner:!1,isWritable:!1}],programId:o,data:w}),S="processed",t.next=48,r.sendTransaction(k,[n,i],{preflightCommitment:S});case 48:return A=t.sent,t.next=51,r.confirmTransaction({signature:A,lastValidBlockHeight:k.lastValidBlockHeight,blockhash:k.recentBlockhash},S);case 51:if(x=t.sent,I=x.context,!(P=x.value).err){t.next=56;break}throw new Error("Transaction ".concat(A," failed (").concat(JSON.stringify(P),")"));case 56:return t.prev=57,t.next=60,r.getSlot({commitment:S});case 60:if(!(t.sent>I.slot)){t.next=63;break}return t.abrupt("break",71);case 63:t.next=67;break;case 65:t.prev=65,t.t0=t.catch(57);case 67:return t.next=69,new Promise((function(e){return setTimeout(e,Math.round(200))}));case 69:t.next=56;break;case 71:return t.abrupt("return",!0);case 72:case"end":return t.stop()}}),t,null,[[57,65]])})));return function(e,r,n,i,o){return t.apply(this,arguments)}}()}]),e}();qt.chunkSize=932;new Ve("BPFLoader2111111111111111111111111111111111");Object.prototype.toString,Object.keys;globalThis.fetch;var jt;G.n_([G.Jq("typeIndex"),Mt("deactivationSlot"),G._O("lastExtendedSlot"),G.u8("lastExtendedStartIndex"),G.u8(),G.A9(tt(),G.cv(G.u8(),-1),"authority")]);function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(r),!0).forEach((function(t){(0,re.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dt=_e(ve(Ve),xe(),(function(e){return new Ve(e)})),Ft=Ie([xe(),me("base64")]),Vt=_e(ve(s.Buffer),Ft,(function(e){return s.Buffer.from(e[0],"base64")}));function Yt(e){return Ee([Pe({jsonrpc:me("2.0"),id:xe(),result:e}),Pe({jsonrpc:me("2.0"),id:xe(),error:Pe({code:Be(),message:xe(),data:Se(ye("any",(()=>!0)))})})])}var Ht=Yt(Be());function Zt(e){return _e(Yt(e),Ht,(function(t){return"error"in t?t:Jt(Jt({},t),{},{result:fe(t.result,e)})}))}function $t(e){return Zt(Pe({context:Pe({slot:ke()}),value:e}))}function Gt(e){return Pe({context:Pe({slot:ke()}),value:e})}var Qt=Pe({foundation:ke(),foundationTerm:ke(),initial:ke(),taper:ke(),terminal:ke()}),Xt=(Zt(pe(we(Pe({epoch:ke(),effectiveSlot:ke(),amount:ke(),postBalance:ke(),commission:Se(we(ke()))})))),pe(Pe({slot:ke(),prioritizationFee:ke()}))),er=Pe({total:ke(),validator:ke(),foundation:ke(),epoch:ke()}),tr=Pe({epoch:ke(),slotIndex:ke(),slotsInEpoch:ke(),absoluteSlot:ke(),blockHeight:Se(ke()),transactionCount:Se(ke())}),rr=Pe({slotsPerEpoch:ke(),leaderScheduleSlotOffset:ke(),warmup:ge(),firstNormalEpoch:ke(),firstNormalSlot:ke()}),nr=Ae(xe(),pe(ke())),ir=we(Ee([Pe({}),xe()])),or=Pe({err:ir}),ar=me("receivedSignature");Pe({"solana-core":xe(),"feature-set":Se(ke())}),$t(Pe({err:we(Ee([Pe({}),xe()])),logs:we(pe(xe())),accounts:Se(we(pe(we(Pe({executable:ge(),owner:xe(),lamports:ke(),data:pe(xe()),rentEpoch:Se(ke())}))))),unitsConsumed:Se(ke()),returnData:Se(we(Pe({programId:xe(),data:Ie([xe(),me("base64")])})))})),$t(Pe({byIdentity:Ae(xe(),pe(ke())),range:Pe({firstSlot:ke(),lastSlot:ke()})}));Zt(Qt),Zt(er),Zt(Xt),Zt(tr),Zt(rr),Zt(nr),Zt(ke()),$t(Pe({total:ke(),circulating:ke(),nonCirculating:ke(),nonCirculatingAccounts:pe(Dt)}));var sr=Pe({amount:xe(),uiAmount:we(ke()),decimals:ke(),uiAmountString:Se(xe())}),ur=($t(pe(Pe({address:Dt,amount:xe(),uiAmount:we(ke()),decimals:ke(),uiAmountString:Se(xe())}))),$t(pe(Pe({pubkey:Dt,account:Pe({executable:ge(),owner:Dt,lamports:ke(),data:Vt,rentEpoch:ke()})}))),Pe({program:xe(),parsed:Be(),space:ke()})),cr=($t(pe(Pe({pubkey:Dt,account:Pe({executable:ge(),owner:Dt,lamports:ke(),data:ur,rentEpoch:ke()})}))),$t(pe(Pe({lamports:ke(),address:Dt}))),Pe({executable:ge(),owner:Dt,lamports:ke(),data:Vt,rentEpoch:ke()})),lr=(Pe({pubkey:Dt,account:cr}),_e(Ee([ve(s.Buffer),ur]),Ee([Ft,ur]),(function(e){return Array.isArray(e)?fe(e,Vt):e}))),fr=Pe({executable:ge(),owner:Dt,lamports:ke(),data:lr,rentEpoch:ke()}),hr=(Pe({pubkey:Dt,account:fr}),Pe({state:Ee([me("active"),me("inactive"),me("activating"),me("deactivating")]),active:ke(),inactive:ke()}),Zt(pe(Pe({signature:xe(),slot:ke(),err:ir,memo:we(xe()),blockTime:Se(we(ke()))}))),Zt(pe(Pe({signature:xe(),slot:ke(),err:ir,memo:we(xe()),blockTime:Se(we(ke()))}))),Pe({subscription:ke(),result:Gt(cr)}),Pe({pubkey:Dt,account:cr})),dr=(Pe({subscription:ke(),result:Gt(hr)}),Pe({parent:ke(),slot:ke(),root:ke()})),yr=(Pe({subscription:ke(),result:dr}),Ee([Pe({type:Ee([me("firstShredReceived"),me("completed"),me("optimisticConfirmation"),me("root")]),slot:ke(),timestamp:ke()}),Pe({type:me("createdBank"),parent:ke(),slot:ke(),timestamp:ke()}),Pe({type:me("frozen"),slot:ke(),timestamp:ke(),stats:Pe({numTransactionEntries:ke(),numSuccessfulTransactions:ke(),numFailedTransactions:ke(),maxTransactionsPerEntry:ke()})}),Pe({type:me("dead"),slot:ke(),timestamp:ke(),err:xe()})])),pr=(Pe({subscription:ke(),result:yr}),Pe({subscription:ke(),result:Gt(Ee([or,ar]))}),Pe({subscription:ke(),result:ke()}),Pe({pubkey:xe(),gossip:we(xe()),tpu:we(xe()),rpc:we(xe()),version:we(xe())}),Pe({votePubkey:xe(),nodePubkey:xe(),activatedStake:ke(),epochVoteAccount:ge(),epochCredits:pe(Ie([ke(),ke(),ke()])),commission:ke(),lastVote:ke(),rootSlot:we(ke())})),gr=(Zt(Pe({current:pe(pr),delinquent:pe(pr)})),Ee([me("processed"),me("confirmed"),me("finalized")])),vr=Pe({slot:ke(),confirmations:we(ke()),err:ir,confirmationStatus:Se(gr)}),mr=($t(pe(we(vr))),Zt(ke()),Pe({accountKey:Dt,writableIndexes:pe(ke()),readonlyIndexes:pe(ke())})),br=Pe({signatures:pe(xe()),message:Pe({accountKeys:pe(xe()),header:Pe({numRequiredSignatures:ke(),numReadonlySignedAccounts:ke(),numReadonlyUnsignedAccounts:ke()}),instructions:pe(Pe({accounts:pe(ke()),data:xe(),programIdIndex:ke()})),recentBlockhash:xe(),addressTableLookups:Se(pe(mr))})}),wr=Pe({pubkey:Dt,signer:ge(),writable:ge(),source:Se(Ee([me("transaction"),me("lookupTable")]))}),kr=Pe({accountKeys:pe(wr),signatures:pe(xe())}),Sr=Pe({parsed:Be(),program:xe(),programId:Dt}),Ar=Pe({accounts:pe(Dt),data:xe(),programId:Dt}),xr=_e(Ee([Ar,Sr]),Ee([Pe({parsed:Be(),program:xe(),programId:xe()}),Pe({accounts:pe(xe()),data:xe(),programId:xe()})]),(function(e){return fe(e,"accounts"in e?Ar:Sr)})),Ir=Pe({signatures:pe(xe()),message:Pe({accountKeys:pe(wr),instructions:pe(xr),recentBlockhash:xe(),addressTableLookups:Se(we(pe(mr)))})}),Pr=Pe({accountIndex:ke(),mint:xe(),owner:Se(xe()),uiTokenAmount:sr}),Er=Pe({writable:pe(Dt),readonly:pe(Dt)}),Br=Pe({err:ir,fee:ke(),innerInstructions:Se(we(pe(Pe({index:ke(),instructions:pe(Pe({accounts:pe(ke()),data:xe(),programIdIndex:ke()}))})))),preBalances:pe(ke()),postBalances:pe(ke()),logMessages:Se(we(pe(xe()))),preTokenBalances:Se(we(pe(Pr))),postTokenBalances:Se(we(pe(Pr))),loadedAddresses:Se(Er),computeUnitsConsumed:Se(ke())}),_r=Pe({err:ir,fee:ke(),innerInstructions:Se(we(pe(Pe({index:ke(),instructions:pe(xr)})))),preBalances:pe(ke()),postBalances:pe(ke()),logMessages:Se(we(pe(xe()))),preTokenBalances:Se(we(pe(Pr))),postTokenBalances:Se(we(pe(Pr))),loadedAddresses:Se(Er),computeUnitsConsumed:Se(ke())}),Or=Ee([me(0),me("legacy")]),Tr=Pe({pubkey:xe(),lamports:ke(),postBalance:we(ke()),rewardType:we(xe()),commission:Se(we(ke()))}),Ur=(Zt(we(Pe({blockhash:xe(),previousBlockhash:xe(),parentSlot:ke(),transactions:pe(Pe({transaction:br,meta:we(Br),version:Se(Or)})),rewards:Se(pe(Tr)),blockTime:we(ke()),blockHeight:we(ke())}))),Zt(we(Pe({blockhash:xe(),previousBlockhash:xe(),parentSlot:ke(),rewards:Se(pe(Tr)),blockTime:we(ke()),blockHeight:we(ke())}))),Zt(we(Pe({blockhash:xe(),previousBlockhash:xe(),parentSlot:ke(),transactions:pe(Pe({transaction:kr,meta:we(Br),version:Se(Or)})),rewards:Se(pe(Tr)),blockTime:we(ke()),blockHeight:we(ke())}))),Zt(we(Pe({blockhash:xe(),previousBlockhash:xe(),parentSlot:ke(),transactions:pe(Pe({transaction:Ir,meta:we(_r),version:Se(Or)})),rewards:Se(pe(Tr)),blockTime:we(ke()),blockHeight:we(ke())}))),Zt(we(Pe({blockhash:xe(),previousBlockhash:xe(),parentSlot:ke(),transactions:pe(Pe({transaction:kr,meta:we(_r),version:Se(Or)})),rewards:Se(pe(Tr)),blockTime:we(ke()),blockHeight:we(ke())}))),Zt(we(Pe({blockhash:xe(),previousBlockhash:xe(),parentSlot:ke(),rewards:Se(pe(Tr)),blockTime:we(ke()),blockHeight:we(ke())}))),Zt(we(Pe({blockhash:xe(),previousBlockhash:xe(),parentSlot:ke(),transactions:pe(Pe({transaction:br,meta:we(Br)})),rewards:Se(pe(Tr)),blockTime:we(ke())}))),Zt(we(Pe({blockhash:xe(),previousBlockhash:xe(),parentSlot:ke(),signatures:pe(xe()),blockTime:we(ke())}))),Zt(we(Pe({slot:ke(),meta:Br,blockTime:Se(we(ke())),transaction:br,version:Se(Or)}))),Zt(we(Pe({slot:ke(),transaction:Ir,meta:we(_r),blockTime:Se(we(ke())),version:Se(Or)}))),$t(Pe({blockhash:xe(),feeCalculator:Pe({lamportsPerSignature:ke()})})),$t(Pe({blockhash:xe(),lastValidBlockHeight:ke()})),$t(ge()),Zt(pe(Pe({slot:ke(),numTransactions:ke(),numSlots:ke(),samplePeriodSecs:ke()}))),$t(we(Pe({feeCalculator:Pe({lamportsPerSignature:ke()})}))),Zt(xe()),Zt(xe()),Pe({err:ir,logs:pe(xe()),signature:xe()})),Kr=(Pe({result:Gt(Ur),subscription:ke()}),"js/".concat(null!==(jt="0.0.0-development")?jt:"UNKNOWN"),function(){function e(t){n(this,e),this._keypair=void 0,this._keypair=null!==t&&void 0!==t?t:ze()}return a(e,[{key:"publicKey",get:function(){return new Ve(this._keypair.publicKey)}},{key:"secretKey",get:function(){return new Uint8Array(this._keypair.secretKey)}}],[{key:"generate",value:function(){return new e(ze())}},{key:"fromSecretKey",value:function(t,r){if(64!==t.byteLength)throw new Error("bad secret key size");var n=t.slice(32,64);if(!r||!r.skipValidation)for(var i=t.slice(0,32),o=Le(i),a=0;a<32;a++)if(n[a]!==o[a])throw new Error("provided secretKey is invalid");return new e({publicKey:n,secretKey:t})}},{key:"fromSeed",value:function(t){var r=Le(t),n=new Uint8Array(64);return n.set(t),n.set(r,32),new e({publicKey:r,secretKey:n})}}]),e}()),zr=Object.freeze({CreateLookupTable:{index:0,layout:G.n_([G.Jq("instruction"),Mt("recentSlot"),G.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:G.n_([G.Jq("instruction")])},ExtendLookupTable:{index:2,layout:G.n_([G.Jq("instruction"),Mt(),G.A9(tt(),G.cv(G.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:G.n_([G.Jq("instruction")])},CloseLookupTable:{index:4,layout:G.n_([G.Jq("instruction")])}}),Lr=function(){function e(){n(this,e)}return a(e,null,[{key:"createLookupTable",value:function(e){var t=ee(Ve.findProgramAddressSync([e.authority.toBuffer(),(0,te.k$)(BigInt(e.recentSlot),8)],this.programId),2),r=t[0],n=t[1],i=Ut(zr.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Rt.programId,isSigner:!1,isWritable:!1}];return[new wt({programId:this.programId,keys:o,data:i}),r]}},{key:"freezeLookupTable",value:function(e){var t=Ut(zr.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new wt({programId:this.programId,keys:r,data:t})}},{key:"extendLookupTable",value:function(e){var t=Ut(zr.ExtendLookupTable,{addresses:e.addresses.map((function(e){return e.toBytes()}))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Rt.programId,isSigner:!1,isWritable:!1}),new wt({programId:this.programId,keys:r,data:t})}},{key:"deactivateLookupTable",value:function(e){var t=Ut(zr.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new wt({programId:this.programId,keys:r,data:t})}},{key:"closeLookupTable",value:function(e){var t=Ut(zr.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new wt({programId:this.programId,keys:r,data:t})}}]),e}();Lr.programId=new Ve("AddressLookupTab1e1111111111111111111111111");var Wr=Object.freeze({RequestUnits:{index:0,layout:G.n_([G.u8("instruction"),G.Jq("units"),G.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:G.n_([G.u8("instruction"),G.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:G.n_([G.u8("instruction"),G.Jq("units")])},SetComputeUnitPrice:{index:3,layout:G.n_([G.u8("instruction"),Mt("microLamports")])}}),Mr=function(){function e(){n(this,e)}return a(e,null,[{key:"requestUnits",value:function(e){var t=Ut(Wr.RequestUnits,e);return new wt({keys:[],programId:this.programId,data:t})}},{key:"requestHeapFrame",value:function(e){var t=Ut(Wr.RequestHeapFrame,e);return new wt({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitLimit",value:function(e){var t=Ut(Wr.SetComputeUnitLimit,e);return new wt({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitPrice",value:function(e){var t=Ut(Wr.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new wt({keys:[],programId:this.programId,data:t})}}]),e}();Mr.programId=new Ve("ComputeBudget111111111111111111111111111111");var Cr=G.n_([G.u8("numSignatures"),G.u8("padding"),G.KB("signatureOffset"),G.KB("signatureInstructionIndex"),G.KB("publicKeyOffset"),G.KB("publicKeyInstructionIndex"),G.KB("messageDataOffset"),G.KB("messageDataSize"),G.KB("messageInstructionIndex")]),Rr=function(){function e(){n(this,e)}return a(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.instructionIndex;st(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),st(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var a=Cr.span,u=a+r.length,c=u+i.length,l=s.Buffer.alloc(c+n.length),f=null==o?65535:o;return Cr.encode({numSignatures:1,padding:0,signatureOffset:u,signatureInstructionIndex:f,publicKeyOffset:a,publicKeyInstructionIndex:f,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:f},l),l.fill(r,a),l.fill(i,u),l.fill(n,c),new wt({keys:[],programId:e.programId,data:l})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;st(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{var i=Kr.fromSecretKey(t),o=i.publicKey.toBytes(),a=Me(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:n})}catch(s){throw new Error("Error creating instruction; ".concat(s))}}}]),e}();Rr.programId=new Ve("Ed25519SigVerify111111111111111111111111111");Ke.kA.utils.isValidPrivateKey;var qr=Ke.kA.getPublicKey,jr=G.n_([G.u8("numSignatures"),G.KB("signatureOffset"),G.u8("signatureInstructionIndex"),G.KB("ethAddressOffset"),G.u8("ethAddressInstructionIndex"),G.KB("messageDataOffset"),G.KB("messageDataSize"),G.u8("messageInstructionIndex"),G.Ik(20,"ethAddress"),G.Ik(64,"signature"),G.u8("recoveryId")]),Nr=function(){function e(){n(this,e)}return a(e,null,[{key:"publicKeyToEthAddress",value:function(e){st(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return s.Buffer.from((0,Ue.fr)(Re(e))).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.recoveryId,a=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:a})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,i=t.message,o=t.signature,a=t.recoveryId,u=t.instructionIndex,c=void 0===u?0:u;st(20===(r="string"===typeof n?n.startsWith("0x")?s.Buffer.from(n.substr(2),"hex"):s.Buffer.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var l=12+r.length,f=l+o.length+1,h=s.Buffer.alloc(jr.span+i.length);return jr.encode({numSignatures:1,signatureOffset:l,signatureInstructionIndex:c,ethAddressOffset:12,ethAddressInstructionIndex:c,messageDataOffset:f,messageDataSize:i.length,messageInstructionIndex:c,signature:Re(o),ethAddress:Re(r),recoveryId:a},h),h.fill(Re(i),jr.span),new wt({keys:[],programId:e.programId,data:h})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;st(32===t.length,"Private key must be ".concat(32," bytes but received ").concat(t.length," bytes"));try{var i=Re(t),o=qr(i,!1).slice(1),a=function(e,t){var r=Ke.kA.sign(e,t);return[r.toCompactRawBytes(),r.recovery]}(s.Buffer.from((0,Ue.fr)(Re(r))),i),u=ee(a,2),c=u[0],l=u[1];return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:l,instructionIndex:n})}catch(f){throw new Error("Error creating instruction; ".concat(f))}}}]),e}();Nr.programId=new Ve("KeccakSecp256k11111111111111111111111111111");var Jr=new Ve("StakeConfig11111111111111111111111111111111"),Dr=a((function e(t,r,i){n(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=i}));Dr.default=new Dr(0,0,Ve.default);var Fr=Object.freeze({Initialize:{index:0,layout:G.n_([G.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return G.n_([tt("staker"),tt("withdrawer")],e)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return G.n_([G.gM("unixTimestamp"),G.gM("epoch"),tt("custodian")],e)}()])},Authorize:{index:1,layout:G.n_([G.Jq("instruction"),tt("newAuthorized"),G.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:G.n_([G.Jq("instruction")])},Split:{index:3,layout:G.n_([G.Jq("instruction"),G.gM("lamports")])},Withdraw:{index:4,layout:G.n_([G.Jq("instruction"),G.gM("lamports")])},Deactivate:{index:5,layout:G.n_([G.Jq("instruction")])},Merge:{index:7,layout:G.n_([G.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:G.n_([G.Jq("instruction"),tt("newAuthorized"),G.Jq("stakeAuthorizationType"),nt("authoritySeed"),tt("authorityOwner")])}}),Vr=(Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),function(){function e(){n(this,e)}return a(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup||Dr.default,i=Ut(Fr.Initialize,{authorized:{staker:Re(r.staker.toBuffer()),withdrawer:Re(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:Re(n.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Et,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new wt(o)}},{key:"createAccountWithSeed",value:function(e){var t=new kt;t.add(Rt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(e){var t=new kt;t.add(Rt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,i=Ut(Fr.Delegate);return(new kt).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:It,isSigner:!1,isWritable:!1},{pubkey:Bt,isSigner:!1,isWritable:!1},{pubkey:Jr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,o=e.custodianPubkey,a=Ut(Fr.Authorize,{newAuthorized:Re(n.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:It,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new kt).add({keys:s,programId:this.programId,data:a})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,i=e.authorityOwner,o=e.newAuthorizedPubkey,a=e.stakeAuthorizationType,s=e.custodianPubkey,u=Ut(Fr.AuthorizeWithSeed,{newAuthorized:Re(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:n,authorityOwner:Re(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:It,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!1,isWritable:!1}),(new kt).add({keys:c,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.lamports,o=Ut(Fr.Split,{lamports:i});return new wt({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}},{key:"split",value:function(e){var t=new kt;return t.add(Rt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.basePubkey,o=e.seed,a=e.lamports,s=new kt;return s.add(Rt.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),s.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:a}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,i=Ut(Fr.Merge);return(new kt).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:It,isSigner:!1,isWritable:!1},{pubkey:Bt,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,i=e.lamports,o=e.custodianPubkey,a=Ut(Fr.Withdraw,{lamports:i}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:It,isSigner:!1,isWritable:!1},{pubkey:Bt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new kt).add({keys:s,programId:this.programId,data:a})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=Ut(Fr.Deactivate);return(new kt).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:It,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),e}());Vr.programId=new Ve("Stake11111111111111111111111111111111111111"),Vr.space=200;var Yr=Object.freeze({InitializeAccount:{index:0,layout:G.n_([G.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return G.n_([tt("nodePubkey"),tt("authorizedVoter"),tt("authorizedWithdrawer"),G.u8("commission")],e)}()])},Authorize:{index:1,layout:G.n_([G.Jq("instruction"),tt("newAuthorized"),G.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:G.n_([G.Jq("instruction"),G.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:G.n_([G.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return G.n_([G.Jq("voteAuthorizationType"),tt("currentAuthorityDerivedKeyOwnerPubkey"),nt("currentAuthorityDerivedKeySeed"),tt("newAuthorized")],e)}()])}}),Hr=(Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),function(){function e(){n(this,e)}return a(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,i=Ut(Yr.InitializeAccount,{voteInit:{nodePubkey:Re(n.nodePubkey.toBuffer()),authorizedVoter:Re(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Re(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Et,isSigner:!1,isWritable:!1},{pubkey:It,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new wt(o)}},{key:"createAccount",value:function(e){var t=new kt;return t.add(Rt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.voteAuthorizationType,o=Ut(Yr.Authorize,{newAuthorized:Re(n.toBuffer()),voteAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:It,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new kt).add({keys:a,programId:this.programId,data:o})}},{key:"authorizeWithSeed",value:function(e){var t=e.currentAuthorityDerivedKeyBasePubkey,r=e.currentAuthorityDerivedKeyOwnerPubkey,n=e.currentAuthorityDerivedKeySeed,i=e.newAuthorizedPubkey,o=e.voteAuthorizationType,a=e.votePubkey,s=Ut(Yr.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Re(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Re(i.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:It,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new kt).add({keys:u,programId:this.programId,data:s})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,i=e.toPubkey,o=Ut(Yr.Withdraw,{lamports:n}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new kt).add({keys:a,programId:this.programId,data:o})}},{key:"safeWithdraw",value:function(t,r,n){if(t.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return e.withdraw(t)}}]),e}());Hr.programId=new Ve("Vote111111111111111111111111111111111111111"),Hr.space=3731;new Ve("Va1idator1nfo111111111111111111111111111111"),Pe({name:xe(),website:Se(xe()),details:Se(xe()),keybaseUsername:Se(xe())}),new Ve("Vote111111111111111111111111111111111111111"),G.n_([tt("nodePubkey"),tt("authorizedWithdrawer"),G.u8("commission"),G._O(),G.A9(G.n_([G._O("slot"),G.Jq("confirmationCount")]),G.cv(G.Jq(),-8),"votes"),G.u8("rootSlotValid"),G._O("rootSlot"),G._O(),G.A9(G.n_([G._O("epoch"),tt("authorizedVoter")]),G.cv(G.Jq(),-8),"authorizedVoters"),G.n_([G.A9(G.n_([tt("authorizedPubkey"),G._O("epochOfLastAuthorizedSwitch"),G._O("targetEpoch")]),32,"buf"),G._O("idx"),G.u8("isEmpty")],"priorVoters"),G._O(),G.A9(G.n_([G._O("epoch"),G._O("credits"),G._O("prevCredits")]),G.cv(G.Jq(),-8),"epochCredits"),G.n_([G._O("slot"),G._O("timestamp")],"lastTimestamp")])},53350:(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),s=t([1]),u=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}function g(e,t,r,n){return p(e,t,r,n,16)}function v(e,t,r,n){return p(e,t,r,n,32)}function m(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,y=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,k=o,S=a,A=s,x=u,I=c,P=l,E=f,B=h,_=d,O=y,T=p,U=g,K=v,z=m,L=b,W=w,M=0;M<20;M+=2)k^=(i=(K^=(i=(_^=(i=(I^=(i=k+K|0)<<7|i>>>25)+k|0)<<9|i>>>23)+I|0)<<13|i>>>19)+_|0)<<18|i>>>14,P^=(i=(S^=(i=(z^=(i=(O^=(i=P+S|0)<<7|i>>>25)+P|0)<<9|i>>>23)+O|0)<<13|i>>>19)+z|0)<<18|i>>>14,T^=(i=(E^=(i=(A^=(i=(L^=(i=T+E|0)<<7|i>>>25)+T|0)<<9|i>>>23)+L|0)<<13|i>>>19)+A|0)<<18|i>>>14,W^=(i=(U^=(i=(B^=(i=(x^=(i=W+U|0)<<7|i>>>25)+W|0)<<9|i>>>23)+x|0)<<13|i>>>19)+B|0)<<18|i>>>14,k^=(i=(x^=(i=(A^=(i=(S^=(i=k+x|0)<<7|i>>>25)+k|0)<<9|i>>>23)+S|0)<<13|i>>>19)+A|0)<<18|i>>>14,P^=(i=(I^=(i=(B^=(i=(E^=(i=P+I|0)<<7|i>>>25)+P|0)<<9|i>>>23)+E|0)<<13|i>>>19)+B|0)<<18|i>>>14,T^=(i=(O^=(i=(_^=(i=(U^=(i=T+O|0)<<7|i>>>25)+T|0)<<9|i>>>23)+U|0)<<13|i>>>19)+_|0)<<18|i>>>14,W^=(i=(L^=(i=(z^=(i=(K^=(i=W+L|0)<<7|i>>>25)+W|0)<<9|i>>>23)+K|0)<<13|i>>>19)+z|0)<<18|i>>>14;k=k+o|0,S=S+a|0,A=A+s|0,x=x+u|0,I=I+c|0,P=P+l|0,E=E+f|0,B=B+h|0,_=_+d|0,O=O+y|0,T=T+p|0,U=U+g|0,K=K+v|0,z=z+m|0,L=L+b|0,W=W+w|0,e[0]=k>>>0&255,e[1]=k>>>8&255,e[2]=k>>>16&255,e[3]=k>>>24&255,e[4]=S>>>0&255,e[5]=S>>>8&255,e[6]=S>>>16&255,e[7]=S>>>24&255,e[8]=A>>>0&255,e[9]=A>>>8&255,e[10]=A>>>16&255,e[11]=A>>>24&255,e[12]=x>>>0&255,e[13]=x>>>8&255,e[14]=x>>>16&255,e[15]=x>>>24&255,e[16]=I>>>0&255,e[17]=I>>>8&255,e[18]=I>>>16&255,e[19]=I>>>24&255,e[20]=P>>>0&255,e[21]=P>>>8&255,e[22]=P>>>16&255,e[23]=P>>>24&255,e[24]=E>>>0&255,e[25]=E>>>8&255,e[26]=E>>>16&255,e[27]=E>>>24&255,e[28]=B>>>0&255,e[29]=B>>>8&255,e[30]=B>>>16&255,e[31]=B>>>24&255,e[32]=_>>>0&255,e[33]=_>>>8&255,e[34]=_>>>16&255,e[35]=_>>>24&255,e[36]=O>>>0&255,e[37]=O>>>8&255,e[38]=O>>>16&255,e[39]=O>>>24&255,e[40]=T>>>0&255,e[41]=T>>>8&255,e[42]=T>>>16&255,e[43]=T>>>24&255,e[44]=U>>>0&255,e[45]=U>>>8&255,e[46]=U>>>16&255,e[47]=U>>>24&255,e[48]=K>>>0&255,e[49]=K>>>8&255,e[50]=K>>>16&255,e[51]=K>>>24&255,e[52]=z>>>0&255,e[53]=z>>>8&255,e[54]=z>>>16&255,e[55]=z>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=W>>>0&255,e[61]=W>>>8&255,e[62]=W>>>16&255,e[63]=W>>>24&255}(e,t,r,n)}function b(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,y=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,k=0;k<20;k+=2)o^=(i=(v^=(i=(d^=(i=(c^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,l^=(i=(a^=(i=(m^=(i=(y^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+y|0)<<13|i>>>19)+m|0)<<18|i>>>14,p^=(i=(f^=(i=(s^=(i=(b^=(i=p+f|0)<<7|i>>>25)+p|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,w^=(i=(g^=(i=(h^=(i=(u^=(i=w+g|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,o^=(i=(u^=(i=(s^=(i=(a^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(c^=(i=(h^=(i=(f^=(i=l+c|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+h|0)<<18|i>>>14,p^=(i=(y^=(i=(d^=(i=(g^=(i=p+y|0)<<7|i>>>25)+p|0)<<9|i>>>23)+g|0)<<13|i>>>19)+d|0)<<18|i>>>14,w^=(i=(b^=(i=(m^=(i=(v^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+v|0)<<13|i>>>19)+m|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=p>>>0&255,e[9]=p>>>8&255,e[10]=p>>>16&255,e[11]=p>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=y>>>0&255,e[29]=y>>>8&255,e[30]=y>>>16&255,e[31]=y>>>24&255}(e,t,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function k(e,t,r,n,i,o,a){var s,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(m(l,c,a,w),u=0;u<64;u++)e[t+u]=r[n+u]^l[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;i-=64,t+=64,n+=64}if(i>0)for(m(l,c,a,w),u=0;u<i;u++)e[t+u]=r[n+u]^l[u];return 0}function S(e,t,r,n,i){var o,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(m(u,s,i,w),a=0;a<64;a++)e[t+a]=u[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(m(u,s,i,w),a=0;a<r;a++)e[t+a]=u[a];return 0}function A(e,t,r,n,i){var o=new Uint8Array(32);b(o,n,i,w);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return S(e,t,r,a,o)}function x(e,t,r,n,i,o,a){var s=new Uint8Array(32);b(s,o,a,w);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return k(e,t,r,n,i,u,s)}var I=function(e){var t,r,n,i,o,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function P(e,t,r,n,i,o){var a=new I(o);return a.update(r,n,i),a.finish(e,t),0}function E(e,t,r,n,i,o){var a=new Uint8Array(16);return P(a,0,r,n,i,o),g(e,t,a,0)}function B(e,t,r,n,i){var o;if(r<32)return-1;for(x(e,0,t,0,r,n,i),P(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function _(e,t,r,n,i){var o,a=new Uint8Array(32);if(r<32)return-1;if(A(a,0,32,n,i),0!==E(t,16,t,32,r-32,a))return-1;for(x(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function O(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function T(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function U(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function K(e,r){var n,i,o,a=t(),s=t();for(n=0;n<16;n++)s[n]=r[n];for(T(s),T(s),T(s),i=0;i<2;i++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,U(s,a,1-o)}for(n=0;n<16;n++)e[2*n]=255&s[n],e[2*n+1]=s[n]>>8}function z(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return K(r,e),K(n,t),v(r,0,n,0)}function L(e){var t=new Uint8Array(32);return K(t,e),1&t[0]}function W(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function M(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function C(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function R(e,t,r){var n,i,o=0,a=0,s=0,u=0,c=0,l=0,f=0,h=0,d=0,y=0,p=0,g=0,v=0,m=0,b=0,w=0,k=0,S=0,A=0,x=0,I=0,P=0,E=0,B=0,_=0,O=0,T=0,U=0,K=0,z=0,L=0,W=r[0],M=r[1],C=r[2],R=r[3],q=r[4],j=r[5],N=r[6],J=r[7],D=r[8],F=r[9],V=r[10],Y=r[11],H=r[12],Z=r[13],$=r[14],G=r[15];o+=(n=t[0])*W,a+=n*M,s+=n*C,u+=n*R,c+=n*q,l+=n*j,f+=n*N,h+=n*J,d+=n*D,y+=n*F,p+=n*V,g+=n*Y,v+=n*H,m+=n*Z,b+=n*$,w+=n*G,a+=(n=t[1])*W,s+=n*M,u+=n*C,c+=n*R,l+=n*q,f+=n*j,h+=n*N,d+=n*J,y+=n*D,p+=n*F,g+=n*V,v+=n*Y,m+=n*H,b+=n*Z,w+=n*$,k+=n*G,s+=(n=t[2])*W,u+=n*M,c+=n*C,l+=n*R,f+=n*q,h+=n*j,d+=n*N,y+=n*J,p+=n*D,g+=n*F,v+=n*V,m+=n*Y,b+=n*H,w+=n*Z,k+=n*$,S+=n*G,u+=(n=t[3])*W,c+=n*M,l+=n*C,f+=n*R,h+=n*q,d+=n*j,y+=n*N,p+=n*J,g+=n*D,v+=n*F,m+=n*V,b+=n*Y,w+=n*H,k+=n*Z,S+=n*$,A+=n*G,c+=(n=t[4])*W,l+=n*M,f+=n*C,h+=n*R,d+=n*q,y+=n*j,p+=n*N,g+=n*J,v+=n*D,m+=n*F,b+=n*V,w+=n*Y,k+=n*H,S+=n*Z,A+=n*$,x+=n*G,l+=(n=t[5])*W,f+=n*M,h+=n*C,d+=n*R,y+=n*q,p+=n*j,g+=n*N,v+=n*J,m+=n*D,b+=n*F,w+=n*V,k+=n*Y,S+=n*H,A+=n*Z,x+=n*$,I+=n*G,f+=(n=t[6])*W,h+=n*M,d+=n*C,y+=n*R,p+=n*q,g+=n*j,v+=n*N,m+=n*J,b+=n*D,w+=n*F,k+=n*V,S+=n*Y,A+=n*H,x+=n*Z,I+=n*$,P+=n*G,h+=(n=t[7])*W,d+=n*M,y+=n*C,p+=n*R,g+=n*q,v+=n*j,m+=n*N,b+=n*J,w+=n*D,k+=n*F,S+=n*V,A+=n*Y,x+=n*H,I+=n*Z,P+=n*$,E+=n*G,d+=(n=t[8])*W,y+=n*M,p+=n*C,g+=n*R,v+=n*q,m+=n*j,b+=n*N,w+=n*J,k+=n*D,S+=n*F,A+=n*V,x+=n*Y,I+=n*H,P+=n*Z,E+=n*$,B+=n*G,y+=(n=t[9])*W,p+=n*M,g+=n*C,v+=n*R,m+=n*q,b+=n*j,w+=n*N,k+=n*J,S+=n*D,A+=n*F,x+=n*V,I+=n*Y,P+=n*H,E+=n*Z,B+=n*$,_+=n*G,p+=(n=t[10])*W,g+=n*M,v+=n*C,m+=n*R,b+=n*q,w+=n*j,k+=n*N,S+=n*J,A+=n*D,x+=n*F,I+=n*V,P+=n*Y,E+=n*H,B+=n*Z,_+=n*$,O+=n*G,g+=(n=t[11])*W,v+=n*M,m+=n*C,b+=n*R,w+=n*q,k+=n*j,S+=n*N,A+=n*J,x+=n*D,I+=n*F,P+=n*V,E+=n*Y,B+=n*H,_+=n*Z,O+=n*$,T+=n*G,v+=(n=t[12])*W,m+=n*M,b+=n*C,w+=n*R,k+=n*q,S+=n*j,A+=n*N,x+=n*J,I+=n*D,P+=n*F,E+=n*V,B+=n*Y,_+=n*H,O+=n*Z,T+=n*$,U+=n*G,m+=(n=t[13])*W,b+=n*M,w+=n*C,k+=n*R,S+=n*q,A+=n*j,x+=n*N,I+=n*J,P+=n*D,E+=n*F,B+=n*V,_+=n*Y,O+=n*H,T+=n*Z,U+=n*$,K+=n*G,b+=(n=t[14])*W,w+=n*M,k+=n*C,S+=n*R,A+=n*q,x+=n*j,I+=n*N,P+=n*J,E+=n*D,B+=n*F,_+=n*V,O+=n*Y,T+=n*H,U+=n*Z,K+=n*$,z+=n*G,w+=(n=t[15])*W,a+=38*(S+=n*C),s+=38*(A+=n*R),u+=38*(x+=n*q),c+=38*(I+=n*j),l+=38*(P+=n*N),f+=38*(E+=n*J),h+=38*(B+=n*D),d+=38*(_+=n*F),y+=38*(O+=n*V),p+=38*(T+=n*Y),g+=38*(U+=n*H),v+=38*(K+=n*Z),m+=38*(z+=n*$),b+=38*(L+=n*G),o=(n=(o+=38*(k+=n*M))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=u,e[4]=c,e[5]=l,e[6]=f,e[7]=h,e[8]=d,e[9]=y,e[10]=p,e[11]=g,e[12]=v,e[13]=m,e[14]=b,e[15]=w}function q(e,t){R(e,t,t)}function j(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)q(i,i),2!==n&&4!==n&&R(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function N(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)q(i,i),1!==n&&R(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function J(e,r,n){var i,o,a=new Uint8Array(32),s=new Float64Array(80),c=t(),l=t(),f=t(),h=t(),d=t(),y=t();for(o=0;o<31;o++)a[o]=r[o];for(a[31]=127&r[31]|64,a[0]&=248,W(s,n),o=0;o<16;o++)l[o]=s[o],h[o]=c[o]=f[o]=0;for(c[0]=h[0]=1,o=254;o>=0;--o)U(c,l,i=a[o>>>3]>>>(7&o)&1),U(f,h,i),M(d,c,f),C(c,c,f),M(f,l,h),C(l,l,h),q(h,d),q(y,c),R(c,f,c),R(f,l,d),M(d,c,f),C(c,c,f),q(l,c),C(f,h,y),R(c,f,u),M(c,c,h),R(f,f,c),R(c,h,y),R(h,l,s),q(l,d),U(c,l,i),U(f,h,i);for(o=0;o<16;o++)s[o+16]=c[o],s[o+32]=f[o],s[o+48]=l[o],s[o+64]=h[o];var p=s.subarray(32),g=s.subarray(16);return j(p,p),R(g,g,p),K(e,g),0}function D(e,t){return J(e,t,o)}function F(e,t){return n(t,32),D(e,t)}function V(e,t,r){var n=new Uint8Array(32);return J(n,r,t),b(e,i,n,w)}I.prototype.blocks=function(e,t,r){for(var n,i,o,a,s,u,c,l,f,h,d,y,p,g,v,m,b,w,k,S=this.fin?0:2048,A=this.h[0],x=this.h[1],I=this.h[2],P=this.h[3],E=this.h[4],B=this.h[5],_=this.h[6],O=this.h[7],T=this.h[8],U=this.h[9],K=this.r[0],z=this.r[1],L=this.r[2],W=this.r[3],M=this.r[4],C=this.r[5],R=this.r[6],q=this.r[7],j=this.r[8],N=this.r[9];r>=16;)h=f=0,h+=(A+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*K,h+=(x+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*N),h+=(I+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*j),h+=(P+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*q),f=(h+=(E+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*R))>>>13,h&=8191,h+=(B+=s>>>1&8191)*(5*C),h+=(_+=8191&(s>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*M),h+=(O+=8191&(u>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*W),h+=(T+=8191&(c>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*L),d=f+=(h+=(U+=l>>>5|S)*(5*z))>>>13,d+=A*z,d+=x*K,d+=I*(5*N),d+=P*(5*j),f=(d+=E*(5*q))>>>13,d&=8191,d+=B*(5*R),d+=_*(5*C),d+=O*(5*M),d+=T*(5*W),f+=(d+=U*(5*L))>>>13,d&=8191,y=f,y+=A*L,y+=x*z,y+=I*K,y+=P*(5*N),f=(y+=E*(5*j))>>>13,y&=8191,y+=B*(5*q),y+=_*(5*R),y+=O*(5*C),y+=T*(5*M),p=f+=(y+=U*(5*W))>>>13,p+=A*W,p+=x*L,p+=I*z,p+=P*K,f=(p+=E*(5*N))>>>13,p&=8191,p+=B*(5*j),p+=_*(5*q),p+=O*(5*R),p+=T*(5*C),g=f+=(p+=U*(5*M))>>>13,g+=A*M,g+=x*W,g+=I*L,g+=P*z,f=(g+=E*K)>>>13,g&=8191,g+=B*(5*N),g+=_*(5*j),g+=O*(5*q),g+=T*(5*R),v=f+=(g+=U*(5*C))>>>13,v+=A*C,v+=x*M,v+=I*W,v+=P*L,f=(v+=E*z)>>>13,v&=8191,v+=B*K,v+=_*(5*N),v+=O*(5*j),v+=T*(5*q),m=f+=(v+=U*(5*R))>>>13,m+=A*R,m+=x*C,m+=I*M,m+=P*W,f=(m+=E*L)>>>13,m&=8191,m+=B*z,m+=_*K,m+=O*(5*N),m+=T*(5*j),b=f+=(m+=U*(5*q))>>>13,b+=A*q,b+=x*R,b+=I*C,b+=P*M,f=(b+=E*W)>>>13,b&=8191,b+=B*L,b+=_*z,b+=O*K,b+=T*(5*N),w=f+=(b+=U*(5*j))>>>13,w+=A*j,w+=x*q,w+=I*R,w+=P*C,f=(w+=E*M)>>>13,w&=8191,w+=B*W,w+=_*L,w+=O*z,w+=T*K,k=f+=(w+=U*(5*N))>>>13,k+=A*N,k+=x*j,k+=I*q,k+=P*R,f=(k+=E*C)>>>13,k&=8191,k+=B*M,k+=_*W,k+=O*L,k+=T*z,A=h=8191&(f=(f=((f+=(k+=U*K)>>>13)<<2)+f|0)+(h&=8191)|0),x=d+=f>>>=13,I=y&=8191,P=p&=8191,E=g&=8191,B=v&=8191,_=m&=8191,O=b&=8191,T=w&=8191,U=k&=8191,t+=16,r-=16;this.h[0]=A,this.h[1]=x,this.h[2]=I,this.h[3]=P,this.h[4]=E,this.h[5]=B,this.h[6]=_,this.h[7]=O,this.h[8]=T,this.h[9]=U},I.prototype.finish=function(e,t){var r,n,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},I.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Y=B,H=_;var Z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $(e,t,r,n){for(var i,o,a,s,u,c,l,f,h,d,y,p,g,v,m,b,w,k,S,A,x,I,P,E,B,_,O=new Int32Array(16),T=new Int32Array(16),U=e[0],K=e[1],z=e[2],L=e[3],W=e[4],M=e[5],C=e[6],R=e[7],q=t[0],j=t[1],N=t[2],J=t[3],D=t[4],F=t[5],V=t[6],Y=t[7],H=0;n>=128;){for(S=0;S<16;S++)A=8*S+H,O[S]=r[A+0]<<24|r[A+1]<<16|r[A+2]<<8|r[A+3],T[S]=r[A+4]<<24|r[A+5]<<16|r[A+6]<<8|r[A+7];for(S=0;S<80;S++)if(i=U,o=K,a=z,s=L,u=W,c=M,l=C,R,h=q,d=j,y=N,p=J,g=D,v=F,m=V,Y,P=65535&(I=Y),E=I>>>16,B=65535&(x=R),_=x>>>16,P+=65535&(I=(D>>>14|W<<18)^(D>>>18|W<<14)^(W>>>9|D<<23)),E+=I>>>16,B+=65535&(x=(W>>>14|D<<18)^(W>>>18|D<<14)^(D>>>9|W<<23)),_+=x>>>16,P+=65535&(I=D&F^~D&V),E+=I>>>16,B+=65535&(x=W&M^~W&C),_+=x>>>16,x=Z[2*S],P+=65535&(I=Z[2*S+1]),E+=I>>>16,B+=65535&x,_+=x>>>16,x=O[S%16],E+=(I=T[S%16])>>>16,B+=65535&x,_+=x>>>16,B+=(E+=(P+=65535&I)>>>16)>>>16,P=65535&(I=k=65535&P|E<<16),E=I>>>16,B=65535&(x=w=65535&B|(_+=B>>>16)<<16),_=x>>>16,P+=65535&(I=(q>>>28|U<<4)^(U>>>2|q<<30)^(U>>>7|q<<25)),E+=I>>>16,B+=65535&(x=(U>>>28|q<<4)^(q>>>2|U<<30)^(q>>>7|U<<25)),_+=x>>>16,E+=(I=q&j^q&N^j&N)>>>16,B+=65535&(x=U&K^U&z^K&z),_+=x>>>16,f=65535&(B+=(E+=(P+=65535&I)>>>16)>>>16)|(_+=B>>>16)<<16,b=65535&P|E<<16,P=65535&(I=p),E=I>>>16,B=65535&(x=s),_=x>>>16,E+=(I=k)>>>16,B+=65535&(x=w),_+=x>>>16,K=i,z=o,L=a,W=s=65535&(B+=(E+=(P+=65535&I)>>>16)>>>16)|(_+=B>>>16)<<16,M=u,C=c,R=l,U=f,j=h,N=d,J=y,D=p=65535&P|E<<16,F=g,V=v,Y=m,q=b,S%16===15)for(A=0;A<16;A++)x=O[A],P=65535&(I=T[A]),E=I>>>16,B=65535&x,_=x>>>16,x=O[(A+9)%16],P+=65535&(I=T[(A+9)%16]),E+=I>>>16,B+=65535&x,_+=x>>>16,w=O[(A+1)%16],P+=65535&(I=((k=T[(A+1)%16])>>>1|w<<31)^(k>>>8|w<<24)^(k>>>7|w<<25)),E+=I>>>16,B+=65535&(x=(w>>>1|k<<31)^(w>>>8|k<<24)^w>>>7),_+=x>>>16,w=O[(A+14)%16],E+=(I=((k=T[(A+14)%16])>>>19|w<<13)^(w>>>29|k<<3)^(k>>>6|w<<26))>>>16,B+=65535&(x=(w>>>19|k<<13)^(k>>>29|w<<3)^w>>>6),_+=x>>>16,_+=(B+=(E+=(P+=65535&I)>>>16)>>>16)>>>16,O[A]=65535&B|_<<16,T[A]=65535&P|E<<16;P=65535&(I=q),E=I>>>16,B=65535&(x=U),_=x>>>16,x=e[0],E+=(I=t[0])>>>16,B+=65535&x,_+=x>>>16,_+=(B+=(E+=(P+=65535&I)>>>16)>>>16)>>>16,e[0]=U=65535&B|_<<16,t[0]=q=65535&P|E<<16,P=65535&(I=j),E=I>>>16,B=65535&(x=K),_=x>>>16,x=e[1],E+=(I=t[1])>>>16,B+=65535&x,_+=x>>>16,_+=(B+=(E+=(P+=65535&I)>>>16)>>>16)>>>16,e[1]=K=65535&B|_<<16,t[1]=j=65535&P|E<<16,P=65535&(I=N),E=I>>>16,B=65535&(x=z),_=x>>>16,x=e[2],E+=(I=t[2])>>>16,B+=65535&x,_+=x>>>16,_+=(B+=(E+=(P+=65535&I)>>>16)>>>16)>>>16,e[2]=z=65535&B|_<<16,t[2]=N=65535&P|E<<16,P=65535&(I=J),E=I>>>16,B=65535&(x=L),_=x>>>16,x=e[3],E+=(I=t[3])>>>16,B+=65535&x,_+=x>>>16,_+=(B+=(E+=(P+=65535&I)>>>16)>>>16)>>>16,e[3]=L=65535&B|_<<16,t[3]=J=65535&P|E<<16,P=65535&(I=D),E=I>>>16,B=65535&(x=W),_=x>>>16,x=e[4],E+=(I=t[4])>>>16,B+=65535&x,_+=x>>>16,_+=(B+=(E+=(P+=65535&I)>>>16)>>>16)>>>16,e[4]=W=65535&B|_<<16,t[4]=D=65535&P|E<<16,P=65535&(I=F),E=I>>>16,B=65535&(x=M),_=x>>>16,x=e[5],E+=(I=t[5])>>>16,B+=65535&x,_+=x>>>16,_+=(B+=(E+=(P+=65535&I)>>>16)>>>16)>>>16,e[5]=M=65535&B|_<<16,t[5]=F=65535&P|E<<16,P=65535&(I=V),E=I>>>16,B=65535&(x=C),_=x>>>16,x=e[6],E+=(I=t[6])>>>16,B+=65535&x,_+=x>>>16,_+=(B+=(E+=(P+=65535&I)>>>16)>>>16)>>>16,e[6]=C=65535&B|_<<16,t[6]=V=65535&P|E<<16,P=65535&(I=Y),E=I>>>16,B=65535&(x=R),_=x>>>16,x=e[7],E+=(I=t[7])>>>16,B+=65535&x,_+=x>>>16,_+=(B+=(E+=(P+=65535&I)>>>16)>>>16)>>>16,e[7]=R=65535&B|_<<16,t[7]=Y=65535&P|E<<16,H+=128,n-=128}return n}function G(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,$(i,o,t,r),r%=128,n=0;n<r;n++)a[n]=t[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,y(a,r-8,s/536870912|0,s<<3),$(i,o,a,r),n=0;n<8;n++)y(e,8*n,i[n],o[n]);return 0}function Q(e,r){var n=t(),i=t(),o=t(),a=t(),s=t(),u=t(),c=t(),f=t(),h=t();C(n,e[1],e[0]),C(h,r[1],r[0]),R(n,n,h),M(i,e[0],e[1]),M(h,r[0],r[1]),R(i,i,h),R(o,e[3],r[3]),R(o,o,l),R(a,e[2],r[2]),M(a,a,a),C(s,i,n),C(u,a,o),M(c,a,o),M(f,i,n),R(e[0],s,u),R(e[1],f,c),R(e[2],c,u),R(e[3],s,f)}function X(e,t,r){var n;for(n=0;n<4;n++)U(e[n],t[n],r)}function ee(e,r){var n=t(),i=t(),o=t();j(o,r[2]),R(n,r[0],o),R(i,r[1],o),K(e,i),e[31]^=L(n)<<7}function te(e,t,r){var n,i;for(O(e[0],a),O(e[1],s),O(e[2],s),O(e[3],a),i=255;i>=0;--i)X(e,t,n=r[i/8|0]>>(7&i)&1),Q(t,e),Q(e,e),X(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];O(n[0],f),O(n[1],h),O(n[2],s),R(n[3],f,h),te(e,n,r)}function ne(e,r,i){var o,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||n(r,32),G(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,re(s,a),ee(e,s),o=0;o<32;o++)r[o+32]=e[o];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ae(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,r)}function se(e,r,n,i){var o,a,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),f=[t(),t(),t(),t()];G(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var h=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(G(c,e.subarray(32),n+32),ae(c),re(f,c),ee(e,f),o=32;o<64;o++)e[o]=i[o];for(G(u,e,n+64),ae(u),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=c[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=u[o]*s[a];return oe(e.subarray(32),l),h}function ue(e,r,n,i){var o,u=new Uint8Array(32),l=new Uint8Array(64),f=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),o=t(),u=t(),l=t(),f=t(),h=t();return O(e[2],s),W(e[1],r),q(o,e[1]),R(u,o,c),C(o,o,e[2]),M(u,e[2],u),q(l,u),q(f,l),R(h,f,l),R(n,h,o),R(n,n,u),N(n,n),R(n,n,o),R(n,n,u),R(n,n,u),R(e[0],n,u),q(i,e[0]),R(i,i,u),z(i,o)&&R(e[0],e[0],d),q(i,e[0]),R(i,i,u),z(i,o)?-1:(L(e[0])===r[31]>>7&&C(e[0],a,e[0]),R(e[3],e[0],e[1]),0)}(h,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(G(l,e,n),ae(l),te(f,h,l),re(h,r.subarray(32)),Q(f,h),ee(u,f),n-=64,v(r,0,u,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}var ce=16,le=64,fe=32,he=64;function de(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function ye(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:x,crypto_stream:A,crypto_stream_salsa20_xor:k,crypto_stream_salsa20:S,crypto_onetimeauth:P,crypto_onetimeauth_verify:E,crypto_verify_16:g,crypto_verify_32:v,crypto_secretbox:B,crypto_secretbox_open:_,crypto_scalarmult:J,crypto_scalarmult_base:D,crypto_box_beforenm:V,crypto_box_afternm:Y,crypto_box:function(e,t,r,n,i,o){var a=new Uint8Array(32);return V(a,i,o),Y(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,i,o){var a=new Uint8Array(32);return V(a,i,o),H(e,t,r,n,a)},crypto_box_keypair:F,crypto_hash:G,crypto_sign:se,crypto_sign_keypair:ne,crypto_sign_open:ue,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:fe,crypto_sign_SECRETKEYBYTES:he,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ie,pack:ee,pack25519:K,unpack25519:W,M:R,A:M,S:q,Z:C,pow2523:N,add:Q,set25519:O,modL:oe,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){ye(e,t,r),de(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return B(i,n,n.length,t,r),i.subarray(ce)},e.secretbox.open=function(e,t,r){ye(e,t,r),de(r,t);for(var n=new Uint8Array(ce+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ce]=e[o];return n.length<32||0!==_(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(ye(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return J(r,e,t),r},e.scalarMult.base=function(e){if(ye(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return D(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){ye(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return V(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return F(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(ye(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return D(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(ye(e,t),t.length!==he)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(ye(e,t),t.length!==fe)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ue(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(le),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(ye(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==fe)throw new Error("bad public key size");var n,i=new Uint8Array(le+e.length),o=new Uint8Array(le+e.length);for(n=0;n<le;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+le]=e[n];return ue(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(fe),t=new Uint8Array(he);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(ye(e),e.length!==he)throw new Error("bad secret key size");for(var t=new Uint8Array(fe),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(ye(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(fe),r=new Uint8Array(he),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=fe,e.sign.secretKeyLength=he,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){ye(e);var t=new Uint8Array(64);return G(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return ye(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===p(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];pe(i)}))}else(t=r(78848))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];pe(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},8835:(e,t,r)=>{"use strict";r.d(t,{kL:()=>B,SolanaPrivateKeyProvider:()=>T,Os:()=>_});var n=r(19677),i=r(53534),o=r(26104),a=r(10637),s=r(25734),u=r(5701),c=r(26111),l=r.n(c),f=r(30196),h=r(20240),d=r(53350),y=r.n(d),p=r(38173).Buffer;const g=y().lowlevel;var v=r(38173).Buffer;function m(e){return(t,r,n,i)=>"solana_chainId"===t.method?(r.result=e,i()):n()}function b(e){return(t,r,n,i)=>"solana_provider_config"===t.method?(r.result=e,i()):n()}function w(e){const{chainId:t}=e;return(0,i.UZ)([m(t),b(e)])}function k(e){let{getAccounts:t}=e;return(0,i.Pk)((async(e,r,n)=>{const{method:i}=e;if("getAccounts"!==i)return n();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");const o=await t(e);r.result=o}))}function S(e){let{requestAccounts:t}=e;return(0,i.Pk)((async(e,r,n)=>{const{method:i}=e;if("requestAccounts"!==i)return n();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");const o=await t(e);r.result=o}))}function A(e,t){return(0,i.Pk)((async(r,n,i)=>{const{method:o}=r;if(o!==e)return i();if(!t)throw new Error(`WalletMiddleware - ${e} not provided`);const a=await t(r);n.result=a}))}function x(e){const{getAccounts:t,requestAccounts:r,signTransaction:n,signAndSendTransaction:o,signAllTransactions:a,signMessage:s,getPrivateKey:u,getSecretKey:c}=e;return(0,i.UZ)([S({requestAccounts:r}),k({getAccounts:t}),A("signTransaction",n),A("signAndSendTransaction",o),A("signAllTransactions",a),A("signMessage",s),A("solanaPrivateKey",u),A("private_key",u),A("solanaSecretKey",c)])}class I extends a.Zk{constructor(e){let{config:t,state:r}=e;super({config:{chainConfig:(0,n.Z)((0,n.Z)({},t.chainConfig),{},{chainNamespace:o.EN.SOLANA})},state:r})}async switchChain(e){throw o.RM.unsupportedOperation("Chain switching is not supported by this adapter")}async setupProvider(e){const t=new i.eI,r=x(this.getProviderHandlers(e));t.push(r);const n=w(this.config.chainConfig);t.push(n);const o=this.getInjectedProviderProxy(e);o&&t.push(o);const a=(0,i.Xj)(t);this.updateProviderEngineProxy(a),await this.lookupNetwork()}async lookupNetwork(){const{chainConfig:e}=this.config;return this.update({chainId:e.chainId}),e.chainId||""}getInjectedProviderProxy(e){}}const P=e=>({requestAccounts:async()=>e.publicKey?[l().encode(e.publicKey.toBytes())]:[],getAccounts:async()=>e.publicKey?[l().encode(e.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw u.PY.methodNotSupported()},getSecretKey:async()=>{throw u.PY.methodNotSupported()},signTransaction:async t=>await e.signTransaction(t.params.message),signMessage:async t=>(await e.signMessage(t.params.message,t.params.display)).signature,signAllTransactions:async t=>{var r,n;if(null===(r=t.params)||void 0===r||!r.message||null===(n=t.params)||void 0===n||!n.message.length)throw u.PY.invalidParams("message");return await e.signAllTransactions(t.params.message)},signAndSendTransaction:async t=>({signature:(await e.signAndSendTransaction(t.params.message)).signature})});function E(e){return(0,i.Pk)((async(t,r,n)=>{const i=await e.request(t);r.result=i}))}class B extends I{getProviderHandlers(e){return P(e)}getInjectedProviderProxy(e){return E(e)}}class _ extends a.Zk{constructor(e){let{config:t,state:r}=e;super({config:{chainConfig:(0,n.Z)((0,n.Z)({},t.chainConfig),{},{chainNamespace:o.EN.SOLANA})},state:r})}async switchChain(e){await this.provider.request({method:"switchSolanaChain",params:[{chainId:e.chainId}]})}async addChain(e){super.addChain(e),await this.provider.request({method:"addNewChainConfig",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorer],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18}}]})}async setupProvider(e){this.handleInjectedProviderUpdate(e),await this.setupEngine(e)}async lookupNetwork(){if(!this.provider)throw u.gK.custom({message:"Torus solana provider is not initialized",code:4902});const{chainId:e}=this.config.chainConfig,t=await this.provider.request({method:"solana_chainId"}),r=(0,o.H2)(t.toString())?t:`0x${parseInt(t,10).toString(16)}`;if(e!==r)throw o.Ty.rpcConnectionError(`Invalid network, net_version is: ${r}, expected: ${e}`);return this.update({chainId:r}),this.emit("connect",{chainId:this.state.chainId}),this.emit("chainChanged",this.state.chainId),this.state.chainId}async setupEngine(e){const t=(e=>({requestAccounts:async()=>await e.request({method:"solana_requestAccounts",params:{}}),getAccounts:async()=>await e.request({method:"solana_requestAccounts",params:{}}),getPrivateKey:async()=>{throw u.PY.methodNotSupported()},getSecretKey:async()=>{throw u.PY.methodNotSupported()},signMessage:async t=>{var r;if(null===(r=t.params)||void 0===r||!r.message)throw u.PY.invalidParams("message");return await e.signMessage(t.params.message)},signTransaction:async t=>{var r;if(null===(r=t.params)||void 0===r||!r.message)throw u.PY.invalidParams("message");const n=t.params.message;return await e.signTransaction(n)},signAndSendTransaction:async t=>{var r;if(null===(r=t.params)||void 0===r||!r.message)throw u.PY.invalidParams("message");const n=t.params.message;return{signature:await e.sendTransaction(n)}},signAllTransactions:async t=>{var r,n;if(null===(r=t.params)||void 0===r||!r.message||null===(n=t.params)||void 0===n||!n.message.length)throw u.PY.invalidParams("message");const i=t.params.message;return await e.signAllTransactions(i)}}))(e),r=x(t),n=E(e),o=new i.eI;o.push(r),o.push(n);const a=(0,i.Xj)(o);this.updateProviderEngineProxy(a),await this.lookupNetwork()}async handleInjectedProviderUpdate(e){e.on("accountsChanged",(async e=>{this.emit("accountsChanged",e)})),e.on("chainChanged",(async t=>{const r=(0,o.H2)(t)?t:`0x${parseInt(t,10).toString(16)}`;this.configure({chainConfig:(0,n.Z)((0,n.Z)({},this.config.chainConfig),{},{chainId:r})}),await this.setupProvider(e)}))}}var O;class T extends a.Zk{constructor(e){let{config:t,state:r}=e;super({config:{chainConfig:(0,n.Z)((0,n.Z)({},t.chainConfig),{},{chainNamespace:o.EN.SOLANA})},state:r})}async enable(){if(!this.state.privateKey)throw u.gK.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}getEd25519Key(e){return function(e){let t;t="string"===typeof e?p.from(e,"hex"):e;const r=new Uint8Array(64),n=[g.gf(),g.gf(),g.gf(),g.gf()],i=new Uint8Array([...new Uint8Array(t),...new Uint8Array(32)]),o=new Uint8Array(32);g.crypto_hash(r,i,32),r[0]&=248,r[31]&=127,r[31]|=64,g.scalarbase(n,r),g.pack(o,n);for(let a=0;a<32;a+=1)i[a+32]=o[a];return{sk:p.from(i),pk:p.from(o)}}(e).sk.toString("hex").padStart(128,"0")}async setupProvider(e){const t=await async function(e){let{privKey:t,getProviderEngineProxy:r}=e;if("string"!==typeof t)throw o.Ty.invalidParams("privKey must be a string");const n=f.RG.fromSecretKey(v.from(t,"hex"));return{requestAccounts:async()=>[n.publicKey.toBase58()],getAccounts:async()=>[n.publicKey.toBase58()],getPrivateKey:async()=>t,getSecretKey:async()=>l().encode(n.secretKey),signTransaction:async e=>{var t;if(null===(t=e.params)||void 0===t||!t.message)throw u.PY.invalidParams("message");const r=e.params.message;return void 0!==r.version||r instanceof f.GS?r.sign([n]):r.partialSign(n),r},signMessage:async e=>{var t;if(null===(t=e.params)||void 0===t||!t.message)throw u.PY.invalidParams("message");return y().sign.detached(e.params.message,n.secretKey)},signAndSendTransaction:async e=>{var t;if(null===(t=e.params)||void 0===t||!t.message)throw u.PY.invalidParams("message");const i=r();if(!i)throw u.gK.custom({message:"Provider is not initialized",code:4902});const o=e.params.message;return void 0!==o.version||o instanceof f.GS?o.sign([n]):o.partialSign(n),{signature:await i.request({method:"sendTransaction",params:[v.from(o.serialize()).toString("base64"),{encoding:"base64",preflightCommitment:"confirmed"}]})}},signAllTransactions:async e=>{var t,r,i;if(null===(t=e.params)||void 0===t||!t.message||null===(r=e.params)||void 0===r||!r.message.length)throw u.PY.invalidParams("message");const o=null===(i=e.params)||void 0===i?void 0:i.message;for(const a of o||[]){const e=a;void 0!==e.version||e instanceof f.GS?e.sign([n]):e.partialSign(n)}return o}}}({privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),r=x(t),n=new i.eI,{networkMiddleware:a}=function(e){const{rpcTarget:t}=e,r=(0,s.v$)({rpcTarget:t});return{networkMiddleware:(0,i.UZ)([w(e),r]),fetchMiddleware:r}}(this.config.chainConfig);n.push(this.getChainSwitchMiddleware()),n.push(this.getAccountMiddleware()),n.push(r),n.push(a);const c=(0,i.Xj)(n);this.updateProviderEngineProxy(c),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw u.gK.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"solanaPrivateKey"})!==e.privateKey&&(await this.setupProvider(e.privateKey),this.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"requestAccounts"})}))}async switchChain(e){if(!this._providerEngineProxy)throw u.gK.custom({message:"Provider is not initialized",code:4902});const t=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:t});const r=await this._providerEngineProxy.request({method:"solanaPrivateKey"});await this.setupProvider(r)}async lookupNetwork(){if(!this._providerEngineProxy)throw u.gK.custom({message:"Provider is not initialized",code:4902});const e=await this._providerEngineProxy.request({method:"getHealth",params:[]}),{chainConfig:t}=this.config;if("ok"!==e)throw o.Ty.rpcConnectionError(`Failed to lookup network for following rpc target: ${t.rpcTarget}`);return this.update({chainId:t.chainId}),this.state.chainId!==t.chainId&&(this.emit("chainChanged",this.state.chainId),this.emit("connect",{chainId:this.state.chainId})),this.state.chainId}getChainSwitchMiddleware(){return function(e){let{addNewChainConfig:t,switchSolanaChain:r}=e;return(0,i.UZ)([A("addSolanaChain",t),A("switchSolanaChain",r)])}({addNewChainConfig:async e=>{if(!e.params)throw u.PY.invalidParams("Missing request params");const{chainId:t,chainName:r,rpcUrls:n,blockExplorerUrls:i,nativeCurrency:a}=e.params;if(!t)throw u.PY.invalidParams("Missing chainId in chainParams");if(!n||0===n.length)throw u.PY.invalidParams("Missing rpcUrls in chainParams");if(!a)throw u.PY.invalidParams("Missing nativeCurrency in chainParams");this.addChain({chainNamespace:o.EN.SOLANA,chainId:t,ticker:(null===a||void 0===a?void 0:a.symbol)||"SOL",tickerName:(null===a||void 0===a?void 0:a.name)||"Solana",displayName:r,rpcTarget:n[0],blockExplorer:(null===i||void 0===i?void 0:i[0])||"",decimals:(null===a||void 0===a?void 0:a.decimals)||9})},switchSolanaChain:async e=>{if(!e.params)throw u.PY.invalidParams("Missing request params");if(!e.params.chainId)throw u.PY.invalidParams("Missing chainId");await this.switchChain(e.params)}})}getAccountMiddleware(){return function(e){let{updatePrivatekey:t}=e;return(0,i.UZ)([A("updateAccount",t)])}({updatePrivatekey:async e=>{if(!e.params)throw u.PY.invalidParams("Missing request params");if(!e.params.privateKey)throw u.PY.invalidParams("Missing privateKey");const{privateKey:t}=e.params;await this.updateAccount({privateKey:t})}})}}O=T,(0,h.Z)(T,"getProviderInstance",(async e=>{const t=new O({config:{chainConfig:e.chainConfig}});return await t.setupProvider(e.privKey),t}))},14740:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*u+1>>>0,c=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*c[h]>>>0,c[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,r++}for(var d=o-i;d!==o&&0===c[d];)d++;for(var y=new Uint8Array(n+(o-d)),p=n;d!==o;)y[p++]=c[d++];return y}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*c+1>>>0,l=new Uint8Array(u);i!==o;){for(var f=t[i],h=0,d=u-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*l[d]>>>0,l[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var y=u-n;y!==u&&0===l[y];)y++;for(var p=s.repeat(r);y<u;++y)p+=e.charAt(l[y]);return p},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},26111:(e,t,r)=>{const n=r(14740);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},71975:(e,t,r)=>{"use strict";var n=r(89935).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===u;)i++,r++;for(var a=(e.length-r)*c+1>>>0,l=new Uint8Array(a);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var h=0,d=a-1;(0!==f||h<o)&&-1!==d;d--,h++)f+=s*l[d]>>>0,l[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=h,r++}for(var y=a-o;y!==a&&0===l[y];)y++;var p=n.allocUnsafe(i+(a-y));p.fill(0,0,i);for(var g=i;y!==a;)p[g++]=l[y++];return p}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,a=t.length;o!==a&&0===t[o];)o++,r++;for(var c=(a-o)*l+1>>>0,f=new Uint8Array(c);o!==a;){for(var h=t[o],d=0,y=c-1;(0!==h||d<i)&&-1!==y;y--,d++)h+=256*f[y]>>>0,f[y]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,o++}for(var p=c-i;p!==c&&0===f[p];)p++;for(var g=u.repeat(r);p<c;++p)g+=e.charAt(f[p]);return g},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},10030:(e,t,r)=>{"use strict";var n=r(38173).Buffer;t.oU=function(e){{const t=n.from(e);t.reverse();const r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},t.k$=function(e,t){{const r=e.toString(16),i=n.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return i.reverse(),i}}},88343:function(e,t,r){"use strict";var n=r(38173).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const c=u(r(9092)),l=u(r(42933)),f=s(r(43206)),h=new("function"!==typeof TextDecoder?f.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=n.from(e,"utf8")),l.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(l.default.decode(e))};const d=1024;class y extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=y;class p{constructor(){this.buf=n.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(d)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(d)]),this.length+=e.length}writeString(e){this.maybeResize();const t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function g(e,t,r){const n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new y("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=p;class v{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new c.default(e,"le")}readU128(){const e=this.readBuffer(16);return new c.default(e,"le")}readU256(){const e=this.readBuffer(32);return new c.default(e,"le")}readU512(){const e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new y(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(r){throw new y(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,r,n,i){try{if("string"===typeof n)i[`write${m(n)}`](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new y(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"===typeof n[1]){if(r.length!==n[1])throw new y(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)b(e,null,r[t],n[0],i)}else i.writeArray(r,(r=>{b(e,t,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null===r||void 0===r?i.writeU8(0):(i.writeU8(1),b(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,o)=>{b(e,t,o,n.key,i),b(e,t,r,n.value,i)}));break;default:throw new y(`FieldType ${n} unrecognized`)}else w(e,r,i)}catch(o){throw o instanceof y&&o.addToFieldPath(t),o}}function w(e,t,r){if("function"===typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new y(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((n=>{let[i,o]=n;b(e,i,t[i],o,r)}));else{if("enum"!==n.kind)throw new y(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let o=0;o<n.values.length;++o){const[a,s]=n.values[o];if(a===i){r.writeU8(o),b(e,a,t[a],s,r);break}}}}}function k(e,t,r,n){try{if("string"===typeof r)return n[`read${m(r)}`]();if(r instanceof Array){if("number"===typeof r[0])return n.readFixedArray(r[0]);if("number"===typeof r[1]){const t=[];for(let i=0;i<r[1];i++)t.push(k(e,null,r[0],n));return t}return n.readArray((()=>k(e,t,r[0],n)))}if("option"===r.kind){return n.readU8()?k(e,t,r.type,n):void 0}if("map"===r.kind){let i=new Map;const o=n.readU32();for(let a=0;a<o;a++){const o=k(e,t,r.key,n),a=k(e,t,r.value,n);i.set(o,a)}return i}return S(e,r,n)}catch(i){throw i instanceof y&&i.addToFieldPath(t),i}}function S(e,t,r){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new y(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,o]of e.get(t).fields)n[i]=k(e,i,o,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new y(`Enum index: ${i} is out of range`);const[o,a]=n.values[i];return new t({[o]:k(e,o,a,r)})}throw new y(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}a([g],v.prototype,"readU8",null),a([g],v.prototype,"readU16",null),a([g],v.prototype,"readU32",null),a([g],v.prototype,"readU64",null),a([g],v.prototype,"readU128",null),a([g],v.prototype,"readU256",null),a([g],v.prototype,"readU512",null),a([g],v.prototype,"readString",null),a([g],v.prototype,"readFixedArray",null),a([g],v.prototype,"readArray",null),t.BinaryReader=v,t.serialize=function(e,t){const r=new(arguments.length>2&&void 0!==arguments[2]?arguments[2]:p);return w(e,t,r),r.toArray()},t.deserialize=function(e,t,r){const n=new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:v)(r),i=S(e,t,n);if(n.offset<r.length)throw new y(`Unexpected ${r.length-n.offset} bytes after deserialized data`);return i},t.deserializeUnchecked=function(e,t,r){return S(e,t,new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:v)(r))}},42933:(e,t,r)=>{var n=r(71975);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},39033:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},89035:(e,t,r)=>{"use strict";const n=r(43090).v4,i=r(38891),o=function(e,t){if(!(this instanceof o))return new o(e,t);t||(t={}),this.options={reviver:"undefined"!==typeof t.reviver?t.reviver:null,replacer:"undefined"!==typeof t.replacer?t.replacer:null,generator:"undefined"!==typeof t.generator?t.generator:function(){return n()},version:"undefined"!==typeof t.version?t.version:2,notificationIdNull:"boolean"===typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=o,o.prototype.request=function(e,t,r,n){const o=this;let a=null;const s=Array.isArray(e)&&"function"===typeof t;if(1===this.options.version&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&e&&"object"===typeof e&&"function"===typeof t)n=t,a=e;else{"function"===typeof r&&(n=r,r=void 0);const o="function"===typeof n;try{a=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(o)return n(c);throw c}if(!o)return a}let u;try{u=JSON.stringify(a,this.options.replacer)}catch(c){return n(c)}return this.callServer(u,(function(e,t){o._parseResponse(e,t,n)})),a},o.prototype._parseResponse=function(e,t,r){if(e)return void r(e);if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(Array.isArray(n)){const e=function(e){return"undefined"!==typeof e.error},t=function(t){return!e(t)};return r(null,n.filter(e),n.filter(t))}return r(null,n.error,n.result)}r(null,n)}},38891:(e,t,r)=>{"use strict";const n=r(43090).v4;e.exports=function(e,t,r,i){if("string"!==typeof e)throw new TypeError(e+" must be a string");const o="number"===typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const a={method:e};if(2===o&&(a.jsonrpc="2.0"),t){if("object"!==typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");a.params=t}if("undefined"===typeof r){const e="function"===typeof i.generator?i.generator:function(){return n()};a.id=e(a,i)}else 2===o&&null===r?i.notificationIdNull&&(a.id=null):a.id=r;return a}},19999:(e,t,r)=>{"use strict";var n=r(38173).Buffer,i=r(95656);var o=i(r(88047)),a=i(r(37240)),s=i(r(42125)),u=i(r(63298)),c=i(r(51795)),l=i(r(17964)),f=i(r(68442)),h=i(r(47474)),d=r(39033);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};d.EventEmitter},97684:(e,t,r)=>{"use strict";var n=r(95656);var i=n(r(63298)),o=n(r(51795)),a=n(r(17964)),s=n(r(68442)),u=n(r(47474));function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var l=function(e){(0,a.default)(r,e);var t=c(r);function r(e,n,o){var a;return(0,i.default)(this,r),(a=t.call(this)).socket=new window.WebSocket(e,o),a.socket.onopen=function(){return a.emit("open")},a.socket.onmessage=function(e){return a.emit("message",e.data)},a.socket.onerror=function(e){return a.emit("error",e)},a.socket.onclose=function(e){a.emit("close",e.code,e.reason)},a}return(0,o.default)(r,[{key:"send",value:function(e,t,r){var n=r||t;try{this.socket.send(e),n()}catch(i){n(i)}}},{key:"close",value:function(e,t){this.socket.close(e,t)}},{key:"addEventListener",value:function(e,t,r){this.socket.addEventListener(e,t,r)}}]),r}(r(39033).EventEmitter)},43090:(e,t,r)=>{"use strict";var n;r.d(t,{v4:()=>f});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const s=function(e){return"string"===typeof e&&a.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r};const f=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return l(n)}},1185:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},63298:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},51795:(e,t,r)=>{var n=r(34573);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},47474:e=>{function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},68442:(e,t,r)=>{var n=r(42125).default,i=r(1185);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},20577:(e,t,r)=>{var n=r(42125).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},34573:(e,t,r)=>{var n=r(42125).default,i=r(20577);e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},43206:(e,t,r)=>{"use strict";function n(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}r.r(t),r.d(t,{TextDecoder:()=>c,TextEncoder:()=>l});function o(e){this.tokens=[].slice.call(e)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var a=-1;function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}var u="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function f(e){var t=e.fatal,r=0,i=0,o=0,u=128,c=191;this.handler=function(e,l){if(-1===l&&0!==o)return o=0,s(t);if(-1===l)return a;if(0===o){if(n(l,0,127))return l;if(n(l,194,223))o=1,r=l-192;else if(n(l,224,239))224===l&&(u=160),237===l&&(c=159),o=2,r=l-224;else{if(!n(l,240,244))return s(t);240===l&&(u=144),244===l&&(c=143),o=3,r=l-240}return r<<=6*o,null}if(!n(l,u,c))return r=o=i=0,u=128,c=191,e.prepend(l),s(t);if(u=128,c=191,r+=l-128<<6*(o-(i+=1)),i!==o)return null;var f=r;return r=o=i=0,f}}function h(e){e.fatal;this.handler=function(e,t){if(-1===t)return a;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var o=[(t>>6*r)+i];r>0;){var s=t>>6*(r-1);o.push(128|63&s),r-=1}return o}}c.prototype={decode:function(e,t){var r;r="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new f({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var n,s=new o(r),u=[];!s.endOfStream()&&(n=this._decoder.handler(s,s.read()))!==a;)null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n));if(!this._streaming){do{if((n=this._decoder.handler(s,s.read()))===a)break;null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n))}while(!s.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(u)}},l.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(t.stream);for(var r,n=[],s=new o(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!s.endOfStream()&&(r=this._encoder.handler(s,s.read()))!==a;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(s,s.read()))!==a;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}}}]);
//# sourceMappingURL=835.fead6682.chunk.js.map